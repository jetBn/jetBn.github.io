{"meta":{"title":"Hexo","subtitle":"","description":"","author":"jetBn","url":"http://jetBn.github.io","root":"/"},"pages":[{"title":"å…³äº","date":"2020-04-29T02:52:27.761Z","updated":"2020-04-29T02:52:27.761Z","comments":false,"path":"about/index.html","permalink":"http://jetbn.github.io/about/index.html","excerpt":"","text":"ä¸ªäººç®€ä»‹"},{"title":"404 Not Foundï¼šè¯¥é¡µæ— æ³•æ˜¾ç¤º","date":"2020-04-28T09:38:58.115Z","updated":"2020-04-28T09:38:58.115Z","comments":false,"path":"/404.html","permalink":"http://jetbn.github.io/404.html","excerpt":"","text":""},{"title":"å‹æƒ…é“¾æ¥","date":"2020-04-28T09:38:58.119Z","updated":"2020-04-28T09:38:58.119Z","comments":true,"path":"links/index.html","permalink":"http://jetbn.github.io/links/index.html","excerpt":"","text":""},{"title":"ä¹¦å•","date":"2020-04-28T09:38:58.118Z","updated":"2020-04-28T09:38:58.118Z","comments":false,"path":"books/index.html","permalink":"http://jetbn.github.io/books/index.html","excerpt":"","text":""},{"title":"åˆ†ç±»","date":"2020-04-28T09:38:58.119Z","updated":"2020-04-28T09:38:58.119Z","comments":false,"path":"categories/index.html","permalink":"http://jetbn.github.io/categories/index.html","excerpt":"","text":""},{"title":"Repositories","date":"2020-04-28T09:38:58.120Z","updated":"2020-04-28T09:38:58.120Z","comments":false,"path":"repository/index.html","permalink":"http://jetbn.github.io/repository/index.html","excerpt":"","text":""},{"title":"æ ‡ç­¾","date":"2020-04-28T09:38:58.121Z","updated":"2020-04-28T09:38:58.121Z","comments":false,"path":"tags/index.html","permalink":"http://jetbn.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"ä½ ä¸çŸ¥é“çš„CSS ","slug":"ä¸çŸ¥é“çš„CSS","date":"2020-04-30T05:42:00.000Z","updated":"2020-04-30T07:22:17.122Z","comments":true,"path":"2020/04/30/ä¸çŸ¥é“çš„CSS/","link":"","permalink":"http://jetbn.github.io/2020/04/30/%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84CSS/","excerpt":"","text":"å‰è¨€ &ensp;&ensp;&ensp;&ensp;CSSçš„ä¸–ç•Œæ˜¯ç¥å¥‡çš„ã€‚å½“ä»Šæ‰€ä»¥ä¸ç®¡ç§»åŠ¨ç«¯è¿˜æ˜¯PCç«¯ç½‘é¡µéƒ½æ˜¯ç¦»ä¸å¼€CSCï¼ˆå±‚å æ ·å¼è¡¨ï¼‰ï¼Œåƒç±»é€‰æ‹©ï¼Œidé€‰æ‹©ç­‰ç­‰è¿™äº›é€‰æ‹©å™¨ æˆ‘ä»¬å·¥ä½œéƒ½æœ‰ç”¨åˆ°ï¼Œä½†æ˜¯éš¾å…å¿½ç•¥ä¸€äº›ï¼ŒCSSä¸­æ›´å¼ºå¤§çš„å±æ€§æˆ‘ä»¬å¾ˆå°‘ç”¨åˆ°ï¼Œç‰¹æ­¤è®°å½•ä¸€äº›ã€‚ ç”¨~/ +å…„å¼Ÿé€‰æ‹©å™¨æ¥ç¾åŒ–è¡¨å•å…ƒç´  ~é€‰æ‹©å™¨ï¼šæŸ¥æ‰¾æŸä¸€ä¸ªå…ƒç´ çš„åé¢çš„æ‰€æœ‰å…„å¼Ÿå…ƒç´  +é€‰æ‹©å™¨ï¼šæŸ¥æ‰¾æŸä¸€ä¸ªå…ƒç´ çš„åé¢ç´§é‚»çš„å…„å¼Ÿå…ƒç´  ç”¨font-sizeï¼š0æ¥æ¸…é™¤é—´è· &ensp;&ensp;&ensp;&ensp;inline-blockçš„å…ƒç´ ä¹‹é—´ä¼šå—ç©ºç™½åŒºåŸŸçš„å½±å“ï¼Œä¹Ÿå°±æ˜¯å…ƒç´ ä¹‹é—´å·®ä¸å¤šä¼šæœ‰ä¸€ä¸ªå­—ç¬¦çš„é—´éš™ã€‚å¦‚æœåœ¨åŒä¸€è¡Œå†…æœ‰4ä¸ª25%ç›¸åŒå®½åº¦çš„å…ƒç´ ï¼Œä¼šå¯¼è‡´æœ€åä¸€ä¸ªå…ƒç´ æ‰ä¸‹æ¥ï¼ˆå¦‚å›¾ï¼‰ã€‚ä½ å¯ä»¥åˆ©ç”¨å…ƒç´ æµ®åŠ¨floatï¼Œæˆ–è€…å‹ç¼©htmlï¼Œæ¸…é™¤å…ƒç´ é—´çš„ç©ºæ ¼æ¥è§£å†³ã€‚ä½†æœ€ç®€å•æœ‰æ•ˆçš„æ–¹æ³•è¿˜æ˜¯è®¾ç½®çˆ¶å…ƒç´ çš„font-sizeå±æ€§ä¸º0ã€‚ ç”¨ overflow ä¾†æ¸…é™¤æµ®åŠ¨(åˆ›å»ºå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡) é€šè¿‡è§¦å‘BFCæ–¹å¼ï¼Œå®ç°æ¸…é™¤æµ®åŠ¨(çˆ¶å…ƒç´ æ·»åŠ overflow:hidden) 12345.fahter&#123; width: 400px; border: 1px solid deeppink; overflow: hidden; &#125; ç”¨pointer-eventæ¥ç¦ç”¨äº‹ä»¶ é˜»æ­¢ä»»ä½•ç‚¹å‡»åŠ¨ä½œçš„æ‰§è¡Œ ä½¿é“¾æ¥æ˜¾ç¤ºä¸ºé»˜è®¤å…‰æ ‡(cursor:default) é˜»æ­¢è§¦å‘hoverå’ŒactiveçŠ¶æ€ é˜»æ­¢JavaScriptç‚¹å‡»äº‹ä»¶çš„è§¦å‘ 123 &#x2F;&#x2F;ä½¿ç”¨è¯¥ç±»ï¼Œä»»ä½•ç‚¹å‡»äº‹ä»¶å°†æ— æ•ˆ.disabled &#123; pointer-events: none; &#125; ç”¨max-widthæ¥é˜²æ­¢å›¾ç‰‡æ’‘ç ´å®¹å™¨ é’ˆå¯¹å†…å®¹æ€§çš„æ–‡æ¡ˆï¼Œå›¾ç‰‡å¤§å°éƒ½æ˜¯æœªçŸ¥çš„ï¼Œä¸ºäº†é˜²æ­¢å›¾ç‰‡è¿‡å¤§è€Œæ’‘ç ´å®¹å™¨ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®å›¾ç‰‡çš„max-width:100%æ¥å¤„ç†ã€‚ 1234img &#123; display:inline-block; max-width: 100%; &#125; å®ç°ä¸‰è§’å½¢ æ–°å»ºä¸€ä¸ªå…ƒç´ ï¼Œå°†å®ƒçš„å®½é«˜éƒ½è®¾ç½®ä¸º0ï¼›ç„¶åé€šè¿‡è®¾ç½®borderå±æ€§æ¥å®ç°ä¸‰è§’å½¢æ•ˆæœ 12345678910111213141516 .arrow&#123; width: 0; height: 0; &#x2F;*ç›´è§’ä¸‰è§’å½¢*&#x2F; &#x2F;* border-width: 50px 50px 0 0; border-style: solid; border-color: transparent #000 transparent transparent; *&#x2F; &#x2F;*å‘ä¸‹ä¸‰è§’å½¢*&#x2F; &#x2F;* border-width: 100px 100px 0 100px; border-style: solid; border-color: brown transparent transparent transparent; *&#x2F;&#125; ç§»åŠ¨ç«¯ç¦æ­¢ç”¨æˆ·é•¿æŒ‰æ–‡å­—é€‰æ‹©åŠŸèƒ½ 12345678 .unselect &#123; -webkit-touch-callout:none; -webkit-user-select:none; -khtml-user-select:none; -moz-user-select:none; -ms-user-select:none; user-select:none&#125; æ–‡å­—æ¨¡ç³Š 1234 .blur &#123; color: transparent; text-shadow: 0 0 5px rgba(0, 0, 0, 0.5)&#125; è¶…å‡ºNè¡Œæ˜¾ç¤ºçœç•¥å· 123456 .hide-text-n &#123; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: n; overflow: hidden&#125; ç¡¬ä»¶åŠ é€Ÿ å†™transitionã€animationæ—¶ï¼Œè¯·ç”¨transformä»£æ›¿leftã€topç­‰å±æ€§ï¼Œä»è€Œä½¿åŠ¨ç”»æ›´æµç•… 1234567 cube &#123; -webkit-transform: translateZ(0); -moz-transform: translateZ(0); -ms-transform: translateZ(0); -o-transform: translateZ(0); transform: translateZ(0)&#125; ç§»åŠ¨ç«¯å±å¹•æ—‹è½¬æ—¶ï¼Œå­—ä½“å¤§å°ä¸æ”¹å˜ 12345 html, body, form, p, div, h1, h2, h3, h4, h5, h6 &#123; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; text-size-adjust: 100%&#125; é”šç‚¹è·³è½¬å¹³æ»‘è¿‡æ¸¡ 123body &#123; scroll-behavior: smooth; &#125; æœ€åä¸€ä¸ªå…ƒç´ ä¸éœ€è¦è¾¹æ¡†ã€è¾¹è·ç­‰123ul &gt; li:not(:last-child) &#123; border-bottom: 1px solid #c5b7b7&#125; æ¸…é™¤æµ®åŠ¨(é€‚åº”ä¼ªç±»)1234567.clearfix::after &#123; content: &#39;&#39;; display: block; height: 0; visibility: hidden; clear: both&#125; CSSé€‰æ‹©å™¨é€‰åŸºæ•°é¡¹ã€å¶æ•°é¡¹ã€å€æ•°åˆ†ç»„é¡¹12345678910&#x2F;* åŸºæ•° *&#x2F;.selector:nth-child(2n-1) &#123;&#125;&#x2F;* å¶æ•° *&#x2F;.selector:nth-child(2n) &#123;&#125;&#x2F;* å€æ•°åˆ†ç»„é¡¹ *&#x2F;.selector:nth-child(3n+1) &#123;&#125; &#x2F;* åŒ¹é…ç¬¬1ã€4ã€7ã€10... *&#x2F;.selector:nth-child(3n+5) &#123;&#125; &#x2F;* åŒ¹é…ç¬¬5ã€8ã€11ã€14... *&#x2F;.selector:nth-child(5n-1) &#123;&#125; &#x2F;* åŒ¹é…ç¬¬4ã€9ã€13ã€17... *&#x2F; å½“è¾“å…¥æ¡†çš„valueçš„é•¿åº¦ä¸ä¸º0æ—¶ï¼Œæ˜¾ç¤ºæœç´¢æŒ‰é’®ç”¨åˆ°placeholder-shownä¼ªç±»ï¼Œç®€å•æ¥è¯´å°±æ˜¯å½“inputæ ‡ç­¾æœ‰äº†placeholderå±æ€§å¹¶ä¸”å†…å®¹ä¸ä¸ºç©ºæ—¶ï¼Œä¼šè§¦å‘è¯¥çŠ¶æ€ï¼Œä½†æ˜¯å½“inputæ ‡ç­¾æœ‰äº†valueå€¼ä¹‹åï¼Œå°±ä¼šæ¶ˆé™¤è¯¥çŠ¶æ€ï¼Œä¹Ÿè¦é…åˆ:noté€‰æ‹©å™¨ html 1234&lt;div class&#x3D;&quot;input-line&quot;&gt; &lt;input type&#x3D;&quot;text&quot; placeholder&#x3D;&quot;è¯·è¾“å…¥å…³é”®å­—è¿›è¡Œæœç´¢&quot;&gt; &lt;button type&#x3D;&quot;button&quot; class&#x3D;&quot;search-btn&quot;&gt;æœç´¢&lt;&#x2F;button&gt;&lt;&#x2F;div&gt; css 12345678.search-btn &#123; opacity: 0; transition: all .5s ease-in-out&#125; input:not(:placeholder-shown)~.search-btn &#123; opacity: 1 &#125;","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://jetbn.github.io/categories/Web%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://jetbn.github.io/tags/CSS/"}],"author":"jetBn"},{"title":"Vue3.0å°è¯•","slug":"Vue3-0å°è¯•","date":"2020-04-29T02:59:17.000Z","updated":"2020-04-30T02:09:54.002Z","comments":true,"path":"2020/04/29/Vue3-0å°è¯•/","link":"","permalink":"http://jetbn.github.io/2020/04/29/Vue3-0%E5%B0%9D%E8%AF%95/","excerpt":"","text":"å‰è¨€ &ensp;&ensp;&ensp;&ensp;æœ‰å…³vue2çš„ç›¸å…³ç›¸å…³è¯­æ³•æˆ‘ç›¸ä¿¡å¤§å®¶éƒ½å·²ç»çš„è¯­æ³•æˆ‘ç›¸ä¿¡å¤§å®¶éƒ½å·²ç»ä¼šäº†ï¼Œç°åœ¨éƒ½å·²ç»2020å¹´äº†vueä½œä¸ºå‰ç«¯è¿™ä¹ˆçƒ­é—¨çš„æ¡†æ¶, ä¸å»å­¦ä¸€æ³¢å¯¹çš„è‡ªå·±æ˜¯åšå‰ç«¯çš„å—ï¼Ÿå“ˆå“ˆå“ˆå“ˆğŸ¤£ğŸ¤£ğŸ¤£ã€‚&ensp;&ensp;&ensp;&ensp;ä¸€è·¯å°±å¼€å§‹æŠ˜è…¾ï¼Œé‚£æ˜¯ä¸€è·¯æ›²æŠ˜å•Šï¼Œé‡ä¸ä¼šåˆ°ä¼šä¹Ÿä¸çŸ¥é“è‡ªå·±ç»å†äº†ä»€ä¹ˆï¼Œåˆ°ç°åœ¨vue3.xé©¬ä¸Šåˆæœ‰å¼€å§‹äº†æ‰€ä»¥è‡ªå·±ä¹Ÿæ˜¯å…ˆè¯•è¯•æ°´ï¼Œç©äº†ä¸€æ³¢ç›¸å…³çš„è¯­æ³•ã€‚&ensp;&ensp;&ensp;&ensp; åºŸè¯ä¸å¤šè¯´ç›´æ¥ä¸Šä»£ç è®°å½•ä¸‹(ç”±äºæœ¬äººæ²¡æœ‰ç”¨åˆ°TSæ‰€ä»¥éƒ½æ˜¯è¿›è¡Œä¸ES6è¿›è¡Œ) å¼€å§‹ åœ¨vue-cli3.0ä¸‹å®‰è£… composition-api 123npm install @vue/composition-api --save# ORyarn add @vue/composition-api åœ¨ä½¿ç”¨ä»»ä½• @vue/composition-api æä¾›çš„èƒ½åŠ›å‰ï¼Œå¿…é¡»å…ˆé€šè¿‡ Vue.use() è¿›è¡Œå®‰è£… 1234import Vue from 'vue'import VueCompositionApi from '@vue/composition-api'Vue.use(VueCompositionApi) å®‰è£…å®Œæˆåå°±å¯é¡¹ç›®ä¸­ä½¿ç”¨ç›¸å…³composition-apiæ¥å¼€å‘äº† setupï¼ˆå…¥å£å‡½æ•°ï¼‰&ensp;&ensp;&ensp;&ensp;setup()å‡½æ•°æ˜¯vue3ä¸­ï¼Œä¸“é—¨ä¸ºç»„ä»¶æä¾›çš„æ–°å±æ€§ï¼Œæ„Ÿè§‰å°±è·Ÿæ˜¯è·Ÿvue2.xä¸­çš„dataä¸€æ ·éœ€è¦è¿”å›ä¸€ä¸ªObjectä¸­åŒ…å«äº†è‡ªå·±å®šä¹‰çš„function, computed, watchä»¥åŠå±æ€§å’Œç”Ÿå‘½å‘¨æœŸã€‚ setup å‡½æ•°ä¼šåœ¨ beforeCreate ä¹‹åã€created ä¹‹å‰æ‰§è¡Œã€‚ 1234setup(props, context) &#123; const state = reactive(&#123;count: 0&#125;) // åˆ›å»ºæ•°æ® return state // è¿”å›é¡µé¢ä¸­ä½¿ç”¨&#125; æ¥æ”¶propsæ•°æ® åœ¨propsä¸­å®šä¹‰å½“å‰ç»„ä»¶å…è®¸å¤–ç•Œä¼ é€’è¿‡æ¥çš„å‚æ•°åç§°ï¼š 123 props: &#123; name: String&#125; é€šè¿‡setupå‡½æ•°çš„ç¬¬ä¸€ä¸ªå½¢å‚ï¼Œæ¥æ”¶ props æ•°æ®ï¼š 123setup(props) &#123; console.log(props.name)&#125; contextå½¢å‚ setupå‡½æ•°çš„ç¬¬äºŒä¸ªå½¢å‚æ˜¯ä¸€ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œå°±æ˜¯vue2.xä¸­çš„thisï¼Œåœ¨vue 3.xä¸­ï¼Œå®ƒä»¬çš„è®¿é—®æ–¹å¼å¦‚ä¸‹ 12345 setup(props, context) &#123; context.slots context.emit context.refs&#125; reactiveä¸refï¼ˆå“åº”å¼æ•°æ®æºï¼‰ reactive()å‡½æ•°æ¥æ”¶ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡ï¼Œè¿”å›ä¸€ä¸ªå“åº”çš„æ•°æ®å¯¹è±¡ã€‚ è¿™ç­‰ä»·äºvue2.xä¸­çš„Vue.observable()å‡½æ•°ï¼Œvue3.xç„¶åå°±æ˜¯å¯ä»¥ç›´æ¥ç”¨reactive()å‡½æ•°ç›´æ¥åˆ›å»ºå“åº”çš„æ•°æ®å¯¹è±¡ã€‚ æŒ‰éœ€å¯¼å…¥reactiveç›¸å…³å‡½æ•° import { reactive } from &#39;@vue/composition-api&#39; åœ¨setup()çš„å‡½æ•°ä¸­è°ƒç”¨reactive()å‡½æ•°ï¼Œåˆ›å»ºå¯¹åº”çš„å“åº”å¼æ•°æ®å¯¹è±¡ 12345setup() &#123; // è¿™ä¸ªç±»ä¼¼äºvue2ä¸­çš„data()è¿”å›çš„å“åº”å¼å¯¹è±¡ const state = reactive(&#123; count: 0 &#125;) return state&#125; åœ¨templateä¸­è®¿é—®å“åº”å¼æ•°æ® 123&lt;template&gt; &lt;span&gt;å½“å‰çš„countå€¼ä¸º:&#123;&#123;count&#125;&#125;&lt;/span&gt;&lt;/template&gt; ref()å‡½æ•°ç”¨æ¥æ ¹æ®ç»™å®šå€¼åˆ›å»ºä¸€ä¸ªå“åº”å¼çš„æ•°æ®å¯¹è±¡ï¼Œref()å‡½æ•°çš„è°ƒç”¨è¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä¸ŠåªåŒ…å«ä¸€ä¸ªvalueå±æ€§ã€‚ å¯¼å…¥ç›¸å…³refç›¸å…³å‡½æ•° import { ref } from &#39;@vue/composition-api&#39; åˆ›å»ºå“åº”å¼å¯¹è±¡ 1234567setup() &#123; const count = ref(0) return &#123; count, name: ref('vue') &#125;&#125; åœ¨templateä¸­è®¿é—®å“åº”å¼æ•°æ®123&lt;template&gt; &lt;span&gt;&#123;&#123;count&#125;&#125;--- &#123;&#123;name&#125;&#125;&lt;/span&gt;&lt;/template&gt; isRefçš„ä½¿ç”¨ ï¼ŒisRef()å‡½æ•°ä¸»è¦ç”¨æ¥åˆ¤æ–­æŸä¸ªå€¼æ˜¯å¦ä¸ºref()åˆ›å»ºå‡ºæ¥çš„å¯¹è±¡ï¼›åº”ç”¨åœºæ™¯ï¼šå½“éœ€è¦å±•å¼€æŸä¸ªå¯èƒ½ä¸ºref()åˆ›å»ºå‡ºæ¥çš„å€¼å¾—æ—¶å€™ï¼Œä¾‹å¦‚ï¼š 123import &#123; isRef &#125; from '@vue/composition-api'const fooData = isRef(foo) ? foo.value : foo toRefsçš„ä½¿ç”¨ï¼ŒtoRefs()å‡½æ•°å¯ä»¥å°†reactive()åˆ›å»ºå‡ºæ¥çš„å“åº”å¼å¯¹è±¡ï¼Œè½¬ä¸ºæ™®é€šå¯¹è±¡ï¼Œåªä¸è¿‡è¿™ä¸ªå¯¹è±¡ä¸Šçš„å±æ€§èŠ‚ç‚¹éƒ½æ˜¯ä»¥ref()ç±»å‹çš„åƒæ˜¯æ•°æ®ï¼Œ æœ€å¸¸è§åº”ç”¨åœºæ™¯ 12345678910111213141516171819202122import &#123; toRefs, reactive &#125; from '@vue/composition-api'setup() &#123; // å®šä¹‰å“åº”å¼æ•°æ®å¯¹è±¡ const state = reactive(&#123; count: 0 &#125;) // å®šä¹‰é¡µé¢ä¸Šå¯ç”¨çš„äº‹ä»¶å¤„ç†å‡½æ•° const increment = () =&gt; &#123; state.count++ &#125; // åœ¨ setup ä¸­è¿”å›ä¸€ä¸ªå¯¹è±¡ä¾›é¡µé¢ä½¿ç”¨ // è¿™ä¸ªå¯¹è±¡ä¸­å¯ä»¥åŒ…å«å“åº”å¼çš„æ•°æ®ï¼Œä¹Ÿå¯ä»¥åŒ…å«äº‹ä»¶å¤„ç†å‡½æ•° return &#123; // å°† state ä¸Šçš„æ¯ä¸ªå±æ€§ï¼Œéƒ½è½¬åŒ–ä¸º ref å½¢å¼çš„å“åº”å¼æ•°æ® ...toRefs(state), // è‡ªå¢çš„äº‹ä»¶å¤„ç†å‡½æ•° increment &#125;&#125; åœ¨templateä¸­å°±ç›´æ¥å¯ä»¥ä½¿ç”¨countå±æ€§å’Œç›¸å¯¹åº”çš„incrementæ–¹æ³•äº†ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨roRefsç›´æ¥è¿”å›stateé‚£ä¹ˆå°±å¾—é€šè¿‡state.xxæ¥è®¿é—®æ•°æ® 123456&lt;template&gt; &lt;div&gt; &lt;span&gt;å½“å‰çš„countå€¼ä¸ºï¼š&#123;&#123;count&#125;&#125;&lt;/span&gt; &lt;button @click=\"increment\"&gt;add&lt;/button&gt; &lt;/div&gt;&lt;/template&gt; computedä¸watchï¼ˆè®¡ç®—å±æ€§ä¸ç›‘å¬ï¼‰ computed() ç”¨æ¥åˆ›å»ºè®¡ç®—å±æ€§ï¼Œcomputed() å‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸€ä¸ª ref çš„å®ä¾‹ã€‚ä½¿ç”¨ computed ä¹‹å‰éœ€è¦æŒ‰éœ€å¯¼å…¥ï¼š 1import &#123; computed &#125; from '@vue/composition-api' åˆ›å»ºåªè¯»çš„è®¡ç®—å±æ€§ï¼Œåœ¨è°ƒç”¨computed()å‡½æ•°çš„æ—¶å€™ï¼Œä¼ å…¥ä¸€ä¸ªfunctionå‡½æ•°ï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªåªè¯»çš„è®¡ç®—å±æ€§ã€‚ 123456789// åˆ›å»ºä¸€ä¸ªå“åº”å¼æ•°æ®const count = ref(1) // æ ¹æ®countçš„å€¼åˆ›å»ºä¸€ä¸ªå“åº”å¼çš„è®¡ç®—å±æ€§ï¼Œ å®ƒä¼šæ ¹æ®refè‡ªåŠ¨è®¡ç®—å¹¶ä¸”è¿”å›ä¸€ä¸ªæ–°çš„refconst computedCount = computed(() =&gt; count.value + 1 ) console.log(computedCount.value) // æ‰“å° 2computedCount.value++ //æŠ¥é”™ åˆ›å»ºå¯è¯»å¯å†™çš„è®¡ç®—å±æ€§ åœ¨è°ƒç”¨computed()å‡½æ•°çš„æ—¶å€™ä¼ å…¥ä¸€ä¸ªåŒ…å«getå’Œsetçš„å¯¹è±¡ï¼Œå°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªå¯è¯»å¯å†™çš„è®¡ç®—å±æ€§äº†ã€‚ 123456789101112// åˆ›å»ºä¸€ä¸ªå“åº”å¼æ•°æ®const count = ref(1) // æ ¹æ®countçš„å€¼åˆ›å»ºä¸€ä¸ªå“åº”å¼çš„è®¡ç®—å±æ€§ï¼Œ å®ƒä¼šæ ¹æ®refè‡ªåŠ¨è®¡ç®—å¹¶ä¸”è¿”å›ä¸€ä¸ªæ–°çš„refconst computedCount = computed(&#123; get: () =&gt; count.value + 1, set: (val) =&gt; count.value = val - 1&#125; ) computedCount.count = 6console.log(count.value) // æ‰“å° 5 2.watch() å‡½æ•°ç”¨æ¥ç›‘å¬æ•°æ®çš„å˜åŒ–ï¼Œè·Ÿvue2.xä¸­çš„æ˜¯ä¸€æ ·çš„ä¸è¿‡åœ¨è¿™å¾—åƒcomputedçš„ä½¿ç”¨æ–¹æ³•ä¸€æ ·å¯¼å…¥ç›¸å…³apiæ–¹æ³• ä½¿ç”¨å‰å¯¼å…¥ import { watch } from &#39;@vue/composition-api&#39; åŸºæœ¬ç”¨æ³• 1234567891011const count = ref(0)// å®šä¹‰watchåªè¦countçš„å€¼å˜åŒ–ï¼Œå°±ä¼šè§¦å‘watchçš„å›è°ƒ// watch ä¼šåœ¨åˆ›å»ºçš„æ—¶å€™è‡ªåŠ¨è°ƒç”¨ä¸€æ¬¡watch(() =&gt; console.log(count.value))setTimeout(() =&gt; &#123; count.value++&#125;, 1000) ç›‘å¬æŒ‡å®šæ•°æ® 12345678910111213/ å®šä¹‰reactiveæ•°æ®æºconst state = reactive(&#123; count: 0 &#125;)// ç›‘è§† state.count è¿™ä¸ªæ•°æ®èŠ‚ç‚¹çš„å˜åŒ–watch(() =&gt; state.count, (now, prev) =&gt; &#123; console.log(now, prev)&#125;)/ å®šä¹‰refæ•°æ®æºconst count = ref(0)// ç›‘è§†countè¿™ä¸ªæ•°æ®çš„å˜åŒ–watch(count, (now, prev) =&gt; &#123; console.log(now, prev)&#125;) LifeCycle Hooks(ç”Ÿå‘½å‘¨æœŸ)åœ¨æ–°ç‰ˆä¸­çš„ç”Ÿå‘½å‘¨æœŸéœ€è¦æŒ‰éœ€å¯¼å…¥ï¼Œå¹¶ä¸”åªèƒ½å†™setup()å‡½æ•°ä¸­ã€‚ ä½¿ç”¨onBeforeMount, onMounted, updatedç›¸å…³ç”Ÿå‘½å‘¨æœŸï¼Œä½¿ç”¨å‰å¯¼å…¥ç›¸å…³apiæ–¹æ³• 1import &#123; onBeforeMount, onMounted, updated &#125; from '@vue/composition-api' 1234567891011setup () &#123; onBeforeMount(() =&gt; &#123; console.log('onBeforeMount!') &#125;) onMounted(() =&gt; &#123; console.log('onMounted!') &#125;) updated(() =&gt; &#123; console.log('updated!') &#125;) &#125; ç›¸å…³æ¯ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•éƒ½æ˜¯ä¼ å…¥ä¸€ä¸ªfunctionå‡½æ•°ã€‚ vue2.xä¸æ–°ç‰ˆComposition APIä¹‹é—´çš„æ˜ å°„å…³ç³» beforeCreate -&gt; setup created -&gt; setup beforeMount -&gt; onBeforeMount mounted -&gt; onMounted beforeUpdate -&gt; onBeforeUpdate updated -&gt; onUpdated beforeDestroy -&gt; onBeforeUnmount destroyed -&gt; onUnmounted errorCaptured -&gt; onErrorCaptured provide &amp; injectï¼ˆæ•°æ®å…±äº«ï¼‰provide()å’Œ inject()å¯ä»¥å®ç°åµŒå¥—ç»„ä»¶ä¹‹é—´çš„æ•°æ®ä¼ é€’ã€‚è¿™ä¸ªä¸¤ä¸ªå‡½æ•°åªèƒ½åœ¨setup()å‡½æ•°ä¸­ä½¿ç”¨ã€‚çˆ¶çº§ç»„ä»¶ä¸­ä½¿ç”¨provide()å‡½æ•°å¯ä»¥ä½¿æ•°æ®å‘ä¸‹ä¼ é€’ï¼Œå­ç»„ä»¶ä¸­ä½¿ç”¨inject()æ¥æ”¶ä¸Šå±‚ä¼ è¿‡æ¥çš„æ•°æ®ã€‚ å®ç°ä»£ç : æ ¹ç»„ä»¶ï¼ˆçˆ¶ç»„ä»¶ï¼‰parent.vue 1234567891011121314151617181920212223&lt;template&gt; &lt;div&gt; &lt;child-one&gt;&lt;/child-one&gt; &lt;child-two&gt;&lt;/child-two&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; import &#123; provide &#125; from '@vue/composition-api' import ChildOne from '@/components/Child' import ChildTwo from '@/components/Child' export default &#123; components: &#123; ChildOne, ChildTwo &#125;, setup() &#123; // provide('è¦å…±äº«çš„æ•°æ®åç§°', è¢«å…±äº«çš„æ•°æ®) provide('globalName', 'vue') &#125; &#125;&lt;/script&gt; å­ç»„ä»¶1 ChildOne.vue 12345678910111213141516171819&lt;template&gt; &lt;div&gt; &lt;!--é¡µé¢å±•ç¤ºæ•°æ®globalName --&gt; &#123;&#123;globalName&#125;&#125; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; import &#123; inject &#125; from '@vue/composition-api' export default &#123; name: 'ChildOne', setup() &#123; const globalName = inject('globalName') è°ƒç”¨ inject å‡½æ•°æ—¶ï¼Œé€šè¿‡æŒ‡å®šçš„æ•°æ®åç§°ï¼Œè·å–åˆ°çˆ¶çº§å…±äº«çš„æ•°æ® return &#123; globalName &#125; &#125; &#125;&lt;/script&gt; å­ç»„ä»¶2 ChildTwo.vue 12345678910111213141516171819&lt;template&gt; &lt;div&gt; &lt;!--é¡µé¢å±•ç¤ºæ•°æ®globalName --&gt; &#123;&#123;globalName&#125;&#125; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; import &#123; inject &#125; from '@vue/composition-api' export default &#123; name: 'ChildTwo', setup() &#123; const globalName = inject('globalName') è°ƒç”¨ inject å‡½æ•°æ—¶ï¼Œé€šè¿‡æŒ‡å®šçš„æ•°æ®åç§°ï¼Œè·å–åˆ°çˆ¶çº§å…±äº«çš„æ•°æ® return &#123; globalName &#125; &#125; &#125;&lt;/script&gt; provideå‡½æ•°è¢«å…±äº«çš„æ•°æ®å¯ä»¥ä½¿refå’Œreactiveå®šä¹‰çš„å“åº”å¼æ•°æ®ï¼Œç”¨æ³•ç±»ä¼¼ template refsï¼ˆå…ƒç´ ç»„ä»¶ï¼‰æˆ‘ä»¬çŸ¥é“åœ¨vue2.xä¸­è·å–é¡µé¢å…ƒç´ çš„DOMå¯ä»¥é€šè¿‡refå†™åœ¨é¡µé¢å…ƒç´ ä¸Šç„¶ååœ¨jsä¸­é€šè¿‡$refs.xæ¥æ‹¿å–å½“å‰å…ƒç´ çš„DOMå…ƒç´ ä¿¡æ¯ï¼Œæ“ä½œDOM,åœ¨composition-apiä¸­æˆ‘ä»¬é€šè¿‡æä¾›çš„refæ–¹æ³•ä¼ å…¥ä¸€ä¸ªnullå¹¶ä¸”å®šä¹‰ä¸é¡µé¢å…ƒç´ ä¸Šrefç›¸å¯¹åº”ã€‚ ä»£ç å®ç°ï¼š 12345678910111213141516171819202122232425262728&lt;template&gt; &lt;div&gt; &lt;h1 ref=\"h1Ref\"&gt;Hello Word&lt;/h1&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import &#123; ref, onMounted &#125; from '@vue/composition-api'export default &#123; setup() &#123; // åˆ›å»ºä¸€ä¸ª DOM å¼•ç”¨ const h1Ref = ref(null) // åœ¨ DOM é¦–æ¬¡åŠ è½½å®Œæ¯•ä¹‹åï¼Œæ‰èƒ½è·å–åˆ°å…ƒç´ çš„å¼•ç”¨ onMounted(() =&gt; &#123; // ä¸º dom å…ƒç´ è®¾ç½®å­—ä½“é¢œè‰² // h1Ref.value æ˜¯åŸç”ŸDOMå¯¹è±¡ console.log(h1Ref.value) &#125;) // æŠŠåˆ›å»ºçš„å¼•ç”¨ return å‡ºå» return &#123; h1Ref &#125; &#125;&#125;&lt;/script&gt; ç»“å°¾&ensp;&ensp;&ensp;&ensp;æ„Ÿè§‰composition-apiéƒ½æ˜¯ä»¥å¯¼å…¥çš„å½¢å¼ä½¿ç”¨ï¼Œæ„Ÿè§‰æ²¡æœ‰ç›´æ¥vue2.xä¸­ç›´æ¥ä½¿ç”¨çš„æ–¹ä¾¿å“ˆğŸ˜‚ã€‚è™½ç„¶éƒ½æ˜¯è¯´æŒ‰éœ€å¼•å…¥ï¼Œä½¿ç”¨æƒ³ç”¨çš„æ–¹æ³•ã€‚å¯¹æ¯”äº†ä¸vue2.xçš„å„ç§å†™æ³•æ„Ÿè§‰çªç„¶è½¬è¿‡æ¥æœ‰å¾ˆå¤§ä¸é€‚åº”ï¼Œå†™çš„å„ç§æ•°æ®æ–¹æ³•éƒ½è¦åœ¨setupçš„å…¥å£å‡½æ•°ä¸­å¯¼å‡ºæ‰èƒ½åœ¨é¡µé¢ä¸Šä½¿ç”¨ã€‚è™½ç„¶vue2.xå®šä¹‰çš„æ•°æ®ä¹Ÿéœ€è¦é€šè¿‡dataå‡½æ•°è¿”å›å€¼ç„¶ååœ¨é¡µé¢ä¸­ä½¿ç”¨ï¼Œä½†æ˜¯æ–¹æ³•ä¸ç”¨å•Šï¼Œä»€ä¹ˆè®¡ç®—å±æ€§ç›‘å¬ä¹Ÿéƒ½æ˜¯ä¸ç”¨çš„å•Šã€‚å¯èƒ½æ˜¯è‡ªå·±é€‚åº”äº†vue2.xçš„å„ç§å†™æ³•ï¼Œæ„Ÿè§‰ç”¨èµ·æ¥å„ç§çˆ½ã€‚è½¬å˜åˆ°vue3.xä¹Ÿå°±æ˜¯ç°åœ¨çš„composition-apiè¿˜éœ€è¦ç‚¹æ—¶é—´ã€‚ æœ€åè‡ªå·±è¿˜æ˜¯æœ‰ä¸ªé—®é¢˜æ²¡æœ‰è§£å†³æœ‰å¤§ä½¬ç»™æˆ‘æ€è·¯å—ï¼Ÿå°±æ˜¯å­çˆ¶ç»„ä»¶çš„é€šä¿¡æ€ä¹ˆå†™ï¼Ÿä¹‹å‰ç‰ˆæœ¬æ˜¯é€šè¿‡$emitè¿›è¡Œï¼Œæˆ‘å‘ç°è¿™setupå‡½æ•°ä¸­å†™äº†çˆ¶ç»„ä»¶æ‹¿ä¸åˆ°ã€‚ æœ€åè´´ä¸Šcomposition-apiå®˜æ–¹æ–‡æ¡£ https://vue-composition-api-rfc.netlify.com","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://jetbn.github.io/categories/Web%E5%89%8D%E7%AB%AF/"},{"name":"Vue","slug":"Webå‰ç«¯/Vue","permalink":"http://jetbn.github.io/categories/Web%E5%89%8D%E7%AB%AF/Vue/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"http://jetbn.github.io/tags/Vue/"}]},{"title":"Shopifyæ’ä»¶å¼€å‘å…¥å‘ä½“éªŒ","slug":"Shopifyæ’ä»¶å¼€å‘å…¥å‘ä½“éªŒ","date":"2020-04-29T02:58:15.000Z","updated":"2020-04-30T02:39:34.782Z","comments":true,"path":"2020/04/29/Shopifyæ’ä»¶å¼€å‘å…¥å‘ä½“éªŒ/","link":"","permalink":"http://jetbn.github.io/2020/04/29/Shopify%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E5%85%A5%E5%9D%91%E4%BD%93%E9%AA%8C/","excerpt":"","text":"å‰è¨€&ensp;&ensp;&ensp;&ensp;ç”±äºå…¬å¸çš„éœ€æ±‚å¼€å‘Shopifyçš„åº”ç”¨æ’ä»¶è‡ªå·±ç‰¹åœ°è®°å½•ä¸‹ã€‚ç®€å•çš„ä»‹ç»ä¸‹Shopify,å®ƒæ˜¯ç”±æ‰˜æ¯”äºšæ–¯Â·å¢å…‹åˆ›åŠçš„åŠ æ‹¿å¤§ç”µå­å•†åŠ¡è½¯ä»¶å¼€å‘å•†ï¼Œæ€»éƒ¨ä½äºåŠ æ‹¿å¤§é¦–éƒ½æ¸¥å¤ªåï¼Œå…¶æä¾›çš„æœåŠ¡è½¯ä»¶Shopifyæ˜¯ä¸€ä¸ªSaaSé¢†åŸŸçš„è´­ç‰©è½¦ç³»ç»Ÿï¼Œé€‚åˆè·¨å¢ƒç”µå•†å»ºç«‹ç‹¬ç«‹ç«™ï¼Œç”¨æˆ·æ”¯ä»˜ä¸€å®šè´¹ç”¨å³å¯åœ¨å…¶ä¸Šåˆ©ç”¨å„ç§ä¸»é¢˜/æ¨¡æ¿å»ºç«‹è‡ªå·±çš„ç½‘ä¸Šå•†åº—ã€‚ &ensp;&ensp;&ensp;&ensp;ç”±äºæ˜¯å›½å¤–çš„å®˜ç½‘æ–‡æ¡£ä¹Ÿéƒ½æ˜¯è‹±æ–‡ï¼Œçœ‹èµ·æ¥æœ‰ç‚¹åƒåŠ›å“¦ï¼ˆå°ç”Ÿè‹±æ–‡æ°´å¹³æœ‰é™ğŸ¤£ğŸ¤£ï¼‰ã€‚ä¸è¿‡ä¹‹ååº”è¯¥æœ‰ä¸­æ–‡äº†ç°åœ¨å¾ˆå¤šé¡µé¢æœ‰ä¸­æ–‡äº†å·²ç»ã€‚ &ensp;&ensp;&ensp;&ensp;è¯¥åº”è¯¥ç”¨æ’ä»¶å®˜æ–¹æ¨èæ˜¯ç”¨Reactçš„next.jsæœåŠ¡ç«¯æ¸²æŸ“æ¡†æ¶ä»¥åŠnode.jsä½œä¸ºåç«¯è¯­è¨€ä½¿ç”¨GraphQLå¼€å‘ã€‚ä½œä¸ºæ²¡æ¥è§¦è¿‡GraphQLçš„æˆ‘èµ¶ç´§è¡¥äº†ä¸€æ³¢çŸ¥è¯†ã€‚åæ¥æˆ‘ä¸€è·¯è·Œè·Œæ’æ’ç»ˆäºç°åœ¨æ˜¯äº†è§£äº†ä¸€ä¸ªå¤§æ¦‚ã€‚æœ€ç»ˆæˆ‘è¿˜æ˜¯ä½¿ç”¨nodeä½œä¸ºä¸»å…¥å£ç¨‹åºï¼ŒéªŒè¯åº”ç”¨æ’ä»¶è·å–ç›¸å…³çš„access_tokenå’Œå•†åº—åœ°å€ã€‚å‰©ä¸‹çš„è¯·æ±‚ä»€ä¹ˆShopifyæ¥å£ä¹Ÿæ²¡æœ‰ç”¨GraphQLè€Œæ˜¯ä½¿ç”¨äº†ResfulApiè®©åç«¯å·¥ä½œäººå‘˜å»æ“ä½œäº†ï¼Œç„¶åæˆ‘è¯·æ±‚åç«¯æ¥å£è¿›è¡Œä¸€ç³»åˆ—æ“ä½œã€‚ï¼ˆæœ€åç†Ÿæ‚‰äº†ï¼Œä»€ä¹ˆéªŒè¯éƒ½æ˜¯ä¸¢ç»™åç«¯æ“ä½œäº†ï¼Œå‰ç«¯æˆ‘ä¹Ÿå°±å¯ä»¥ä½¿ç”¨å„ç§æ¡†æ¶äº†è€Œä¸æ˜¯å•å•åªèƒ½ä½¿ç”¨next.jsï¼‰ã€‚ æ³¨å†Œè·å–å¼€å‘å‰æè¦ç´  åˆ›å»ºShopifyå¼€å‘è€…è´¦å·å¦‚å›¾åœ¨https://developers.shopify.com/ç½‘ç«™æ³¨å†Œç›¸å…³çš„è´¦å·ã€‚ åœ¨ç›¸å…³partnersçš„é¡µé¢åˆ›å»ºå•†åº—(ä»¥ä¾›åé¢å¼€å‘åº”ç”¨ä½¿ç”¨)ä»¥åŠåº”ç”¨ åœ¨åˆ›å»ºåº”ç”¨çš„æœ‰è‡ªå®šä¹‰åº”ç”¨å’Œå…¬å…±åº”ç”¨å¦‚å›¾ï¼š ä¸€èˆ¬æˆ‘ç›¸ä¿¡æˆ‘æˆ‘ä»¬éƒ½æ˜¯åˆ›å»ºçš„å…¬å…±åº”ç”¨ï¼Œåˆ°ç›®å‰æˆ‘å¼€å‘çš„åº”ç”¨ä¹Ÿéƒ½æ˜¯å…¬å…±ç±»å‹ï¼Œåœ¨åˆ›å»ºåº”ç”¨çš„æ—¶å€™URLå’Œç›¸å…³çš„é‡å®šå‘URLéƒ½æ˜¯å¿…é¡»å†™çš„å› ä¸ºæˆ‘ä¹Ÿæ²¡æœ‰æ³¨å†ŒåŸŸåå•¥çš„å§ï¼Œæ‰€ä»¥æ­¤æ—¶æ˜¯ç”¨äº†ngrokå†…ç½‘ç©¿é€ï¼Œåœ¨å®˜æ–¹çš„å¼€å‘ä»‹ç»ä¸­ä¹Ÿæ˜¯ä½¿ç”¨è¿™ä¸ªã€‚åœ¨æ­¤æˆ‘ä»¬å¡«å†™çš„URLå°±è¦å’Œä½ ä½¿ç”¨ngrokæš´éœ²å‡ºå»çš„åœ°å€å¯¹åº”äº†ï¼Œä¸è¿‡ä½¿ç”¨nodeçš„koaæ¡†æ¶æœ‰ä¸ªä¸“é—¨çš„ä¸­é—´ä»¶ä¹Ÿæ˜¯å®˜æ–¹ä½¿ç”¨çš„é‡å®šå‘åœ°å€éƒ½æ˜¯åŸŸåååŠ ä¸Šäº†shopify/auth ä¾‹å¦‚ï¼š URL:https://30aca829.ngrok.io, é‡å®šå‘URL:https://30aca829.ngrok.io/shopify/auth/ï¼ˆç”µè„‘é‡å¯é‡æ–°æš´éœ²å‡ºå»è¿™ä¸ªè¿ä¸ªåœ°å€éƒ½æ˜¯è¦é‡æ–°å¡«ä¸€éï¼Œç„¶åkoaçš„ä¸­é—´ä»¶å°±ä¼šè·³è½¬åˆ°https://30aca829.ngrok.io/shopify/auth/è¿›è¡Œç›¸å…³çš„éªŒè¯æ“ä½œã€‚ï¼ˆè¿™åœ¨åé¢çš„å…¥å£ï¼‰ã€‚åºä¸­ä¼šä¸Šä»£ç ï¼Œç„¶ååœ¨åæœŸæˆ‘ä»¬æ²¡æœ‰ç”¨koaä½œä¸ºå…¥å£è¿™ä¸ªåœ°å€ä¹Ÿæ˜¯å¯ä»¥è‡ªå·±æƒ³æ€ä¹ˆå¡«å°±æ€ä¹ˆå¡«ï¼‰ã€‚ åˆ›å»ºå®Œæˆï¼ˆæ‹¿å–ç›¸å…³çš„å¯†é’¥å¾ˆé‡è¦ï¼ï¼å¾ˆé‡è¦ï¼ï¼ä½œä¸ºå¼€å‘è¯»å–æ•°æ®å’Œè¯·æ±‚å®˜æ–¹apiä½¿ç”¨ï¼‰ å·®ä¸å¤šäº†å‰æå°±è¿™äº›æ­¥éª¤ï¼Œæ³¨å†ŒæˆåŠŸä¹‹åå¡«å†™å¥½æ¥ä¸‹æ¥å°±æ˜¯ä¸€ç³»åˆ—ä»£ç æ“ä½œäº†ã€‚ ç¼–å†™å¼€å‘ç¯å¢ƒç¨‹åº åˆ›å»ºé¡¹ç›®ç›®å½•ï¼ˆsample-appï¼‰ï¼Œå¹¶ä½¿ç”¨npmåˆå§‹åŒ–é¡¹ç›®ç›®å½• 1npm init -y å®‰è£…ç›¸å…³ä¾èµ– 1npm install --save react react-dom next å› ä¸ºæ˜¯ç”¨next.jsæ‰€ä»¥ä¸ç†Ÿæ‚‰çš„è¿˜å¾—çœ‹çœ‹å®˜æ–¹æ–‡æ¡£ https://nextjs.frontendx.cn/ åˆ›å»ºæ–‡ä»¶pageså¹¶åœ¨ä¸‹é¢æ–°å»ºindex.js 1234567const Index &#x3D; () &#x3D;&gt; ( &lt;div&gt; &lt;p&gt;Sample app using React and Next.js&lt;&#x2F;p&gt; &lt;&#x2F;div&gt;);export default Index; æ·»åŠ ç›¸å…³è¿è¡Œå‘½ä»¤æ‰“å¼€package.jsonæ–‡ä»¶æ·»åŠ  1234567891011&#123; &quot;scripts&quot;: &#123; &quot;test&quot;: &quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot;, &quot;dev&quot;: &quot;next&quot;, &quot;build&quot;: &quot;next build&quot;, &quot;start&quot;: &quot;next start&quot; &#125;&#125;&#96;&#96;&#96; è¿è¡Œå¼€å‘ç¯å¢ƒ npm run dev 123 åˆ°è¿™é‡Œåº”è¯¥æ˜¯åˆ›å»ºä¸€ä¸ª&#96;next.js&#96;é¡¹ç›®ç„¶åæ¥ä¸‹æ¥å¯¹æ¥åˆ°&#96;Shopify&#96;4. ä½¿ç”¨&#96;ngrok&#96;æš´éœ²å‡ºå»è‡ªå·±çš„&#96;3000&#96;ç«¯å£å› ä¸º&#96;next.js&#96;å¯åŠ¨çš„é»˜è®¤æ˜¯&#96;3000&#96;ç«¯å£ ngrok http 3000 12345 ![](https:&#x2F;&#x2F;user-gold-cdn.xitu.io&#x2F;2020&#x2F;1&#x2F;17&#x2F;16fb29415dbff038?w&#x3D;976&amp;h&#x3D;519&amp;f&#x3D;png&amp;s&#x3D;30962) ç„¶ååœ¨è‡ªå·±åˆ›å»ºçš„åº”ç”¨ä¸­è®¾ç½®ä¸­æ·»åŠ &#96;å¯¹åº”çš„url&#96;ï¼ˆå¾—ç”¨&#96;https&#96;çš„ï¼‰å°±åœ¨ä¸Šé¢æ‰€è¯´çš„å¡«å†™&#96;url&#96; 5. ä½¿ç”¨&#96;node&#96;çš„ &#96;koa&#96;æ¥è¿›è¡Œæ¸²æŸ“é¡µé¢æ“ä½œ 1. åˆ›å»º&#96;env&#96;ç¯å¢ƒå˜é‡æ–‡ä»¶å¹¶å†™å…¥åœ¨ä¸Šé¢åˆ›å»ºçš„åº”ç”¨çš„&#96;KEY&#96; SHOPIFY_API_KEY=&apos;YOUR API KEY FROM SHOPIFY PARTNERS DASHBOARD&apos; SHOPIFY_API_SECRET_KEY=&apos;YOUR API SECRET KEY FROM SHOPIFY PARTNERS DASHBOARD&apos; 12. å®‰è£…ç›¸å…³&#96;Shopify&#96;çš„éªŒè¯&#96;koa&#96;ä¸­é—´ä»¶ npm install --save koa @shopify/koa-shopify-auth dotenv koa-session isomorphic-fetch 13. åˆ›å»º&#96;server.js&#96;å†™å…¥ç›¸å…³éªŒè¯ä»£ç  require(&apos;isomorphic-fetch&apos;); const dotenv = require(&apos;dotenv&apos;); const Koa = require(&apos;koa&apos;); const next = require(&apos;next&apos;); const { default: createShopifyAuth } = require(&apos;@shopify/koa-shopify-auth&apos;); const { verifyRequest } = require(&apos;@shopify/koa-shopify-auth&apos;); const session = require(&apos;koa-session&apos;); dotenv.config(); // graphqlçš„ç›¸å…³ä¸­é—´ä»¶ const { default: graphQLProxy } = require(&apos;@shopify/koa-shopify-graphql-proxy&apos;); const { ApiVersion } = require(&apos;@shopify/koa-shopify-graphql-proxy&apos;); const port = parseInt(process.env.PORT, 10) || 3000; const dev = process.env.NODE_ENV !== &apos;production&apos;; const app = next({ dev }); const handle = app.getRequestHandler(); const { SHOPIFY_API_SECRET_KEY, SHOPIFY_API_KEY } = process.env; // ç¯å¢ƒå˜é‡é‡Œè¯»å– api-keyä¸api-secret-key app.prepare().then(() =&gt; { const server = new Koa(); server.use(session(server)); server.keys = [SHOPIFY_API_SECRET_KEY]; server.use( createShopifyAuth({ apiKey: SHOPIFY_API_KEY, secret: SHOPIFY_API_SECRET_KEY, scopes: [&apos;read_products&apos;, &apos;write_products&apos;], //å¡«å†™ç›¸å…³åº”ç”¨apiç›¸å…³è¯·æ±‚çš„æƒé™ afterAuth(ctx) { const { shop, accessToken } = ctx.session; // é€šè¿‡sessionæ‹¿å–ç›¸å…³å•†åº—åœ°å€ä»¥åŠè¯·æ±‚apiéœ€è¦çš„accessToken ctx.cookies.set(&apos;shopOrigin&apos;, shop, { httpOnly: false }); ctx.redirect(&apos;/&apos;); // é‡å®šå‘åˆ°indexé¦–é¡µ }, }), ); server.use(verifyRequest()); server.use(async (ctx) =&gt; { await handle(ctx.req, ctx.res); ctx.respond = false; ctx.res.statusCode = 200; return }); server.use(graphQLProxy({version: ApiVersion.October19})) // è¿™é‡Œå¡«å†™ç›¸å…³apiçš„ç‰ˆæœ¬ server.listen(port, () =&gt; { console.log(`&gt; Ready on http://localhost:${port}`); // ç›‘å¬ç«¯å£ }); }); 14. ä¿®æ”¹&#96;package.json&#96;æ–‡ä»¶ä½¿ç”¨æˆ‘ä»¬çš„&#96;server.js&#96;æ¥å¯åŠ¨é¡¹ç›® { &quot;scripts&quot;: { &quot;test&quot;: &quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot;, &quot;dev&quot;: &quot;node server.js&quot;, &quot;start&quot;: &quot;NODE_ENV=production node server.js&quot;, &quot;build&quot;: &quot;next build&quot;, } } 1234ç°åœ¨æˆ‘ä»¬å¯åŠ¨é¡¹ç›®å¹¶ä¸”ç”¨&#96;ngrok&#96;æš´éœ²å‡ºå»çš„åŸŸåå°±èƒ½çœ‹åˆ°![](https:&#x2F;&#x2F;user-gold-cdn.xitu.io&#x2F;2020&#x2F;1&#x2F;17&#x2F;16fb2a914762cace?w&#x3D;434&amp;h&#x3D;214&amp;f&#x3D;png&amp;s&#x3D;6256)è¿™é‡Œè¿˜è¦åœ¨åŸŸåçš„&#96;shop&#96;å¡«å†™æˆ‘ä»¬çš„å•†åº—åœ°å€ä¾‹å¦‚æˆ‘è‡ªå·±çš„ï¼š https://e44132cd.ngrok.io/auth/inline?shop=jetbn.myshopify.com 1234567891011 ä¸€åˆ‡å¡«å†™å°±ç»ªä¹‹åä¸€&#96;enter&#96;é¡µé¢å°±è‡ªåŠ¨è·³è½¬äº†ã€‚ æœ€åå±•ç¤ºçš„é¡µé¢ï¼š ![](https:&#x2F;&#x2F;user-gold-cdn.xitu.io&#x2F;2020&#x2F;1&#x2F;17&#x2F;16fb2af2f6b051c0?w&#x3D;1317&amp;h&#x3D;551&amp;f&#x3D;png&amp;s&#x3D;32089)## æŠ˜è…¾å…¶ä»–æ¡†æ¶å°è¯•&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;å‰å‰ååéƒ½æ˜¯ä½¿ç”¨&#96;React&#96;çš„&#96;next.js&#96;å¼€å‘äº†ä¸¤ä¸‰ä¸ªåº”ç”¨ï¼Œæ„Ÿè§‰å°±æ˜¯å¼€å‘çš„æ—¶å€™å¤ªéº»çƒ¦äº†ï¼Œæ€»è¦å†…ç½‘ç©¿é€ï¼Œè€Œä¸”å±•ç¤ºçš„é¡µé¢éƒ½æ˜¯&#96;Shopify&#96;çš„çš„è‡ªå·±å¹³å°ä¸Šï¼Œè€Œä¸”å¼€å‘å†™å®Œä»£ç ç­‰å®ƒå“åº”è¿‡æ¥è¿˜å¾ˆæ…¢ã€‚å°±è¿™åŸå› æˆ‘åˆå¼€å§‹æŠ˜è…¾äº†å¯»æ±‚å…¶ä»–çš„æ–¹æ¡ˆçœ‹çœ‹æœ‰æ²¡æœ‰èƒ½åœ¨è‡ªå·±å¼€å‘å®Œäº†å†åˆ°å®ƒé‚£ä¸Šé¢ï¼Œè€Œä¸”è®©éªŒè¯&#96;Shopify&#96;çš„ä¸€ç³»åˆ—æ“ä½œè®©æˆ‘ä»¬çš„åç«¯å°å“¥æ¥æ“ä½œã€‚æœ€ç»ˆæˆ‘å‰ç«¯é€‰æ‹©&#96;Vue&#96;å¹¶ä¸”éªŒè¯éƒ½æ”¾åç«¯äº†ï¼Œè¿™æ ·æˆ‘å°±èƒ½åƒå¹³å¸¸å¼€å‘&#96;Vue&#96;é¡¹ä¸€æ ·äº†ã€‚ä¸‹é¢ä»‹ç»ä¸‹æˆ‘çº¯å‰ç«¯è¿›è¡Œ&#96; Shopify&#96;çš„éªŒè¯æ“ä½œä½¿ç”¨&#96;vue&#96;ã€‚ï¼ˆå‰æè¦ç´ å†…ç½‘ç©¿é€ï¼Œä¸è¿‡å¼€å‘çš„æ—¶å€™ä¸éœ€è¦ï¼‰1. æ·»åŠ å®‰è£…åº”ç”¨è·¯ç”± { path: &apos;/shopify/install&apos;, beforeEnter(to, _from, next) { if (to.query.shop) { //è¦åœ¨åŸŸååæ·»åŠ å¼€å‘çš„å•†åº—åœ°å€ const shop = to.query.shop, scopes = &apos;read_orders,read_products,write_products&apos;, // apiæƒé™ // é‡å®šå‘åœ°å€å°±æ˜¯åœ¨åˆ›å»ºåº”ç”¨çš„æ—¶å€™å¡«å†™çš„ç¬¬äºŒä¸ªï¼ˆé‡å®šå‘URLå¯ä»¥è‡ªå·±éšæ„å†™äº†ï¼‰ï¼Œæˆ‘è¿™é‡Œæ˜¯åŸŸååŠ /shopify/auth redirect_uri = &apos;https://&apos; + process.env.VUE_APP_ROOT_URL + &apos;/shopify/auth&apos;, // æ‹¼æ¥å®‰è£…åº”ç”¨åœ°å€éœ€è¦SHOPIFY_API_KEYæˆ‘å¡«å†™åœ¨æˆ‘çš„.envæ–‡ä»¶ä¸­äº† install_url = &apos;http://&apos; + shop + &apos;/admin/oauth/authorize?client_id=&apos; + process.env.VUE_APP_SHOPIFY_API_KEY + &apos;&amp;scope=&apos; + scopes + &apos;&amp;redirect_uri=&apos; + redirect_uri // æœ¬åœ°è·³è½¬å®‰è£…åœ°å€ window.location = install_url } else { next({ path: &apos;/error&apos; }) } } }, 12 2. é‡å®šå‘éªŒè¯è·¯ç”± { path: &apos;/shopify/auth&apos;, beforeEnter(to, _from, next) { // é€šè¿‡å›è°ƒçš„urlè·å–ç›¸å…³çš„å‚æ•° const shop = to.query.shop, hmac = to.query.hmac, code = to.query.code // ä½¿ç”¨SHOPIFY_API_SECRET_KEYéªŒè¯ å¹¶ä¸”ä¹‹åæ‹¿å–access_tokenï¼ˆè¿™æ­¥æ²¡å†™ï¼‰ if (shop &amp;&amp; hmac &amp;&amp; code) { const map = Object.assign({}, to.query) delete map[&apos;signature&apos;] delete map[&apos;hmac&apos;] const message = querystring.stringify(map) const encrypted = crypto.createHmac(&apos;sha256&apos;, process.env.VUE_APP_SHOPIFY_API_SECRET_KEY) .update(message) .digest(&apos;hex&apos;) // const providedHmac = Buffer.from(hmac, &apos;utf-8&apos;) // const generatedHash = Buffer.from(encrypted, &apos;utf-8&apos;) let hashEquals = false try { // later: Auth fails with `crypto.timingSafeEqual` // hashEquals = crypto.timingSafeEqual(generatedHash, providedHmac) hashEquals = hmac === encrypted } catch (e) { hashEquals = false } if (!hashEquals) { next({ path: &apos;/error&apos; }) } else { next(&apos;/&apos;) } } else { next({ path: &apos;/error&apos; }) } } } `Vue`è¿™ç›¸å…³çš„éªŒè¯æ–¹æ¡ˆä¹Ÿæ˜¯ä»`Github`ä¸Šé¢æçš„ï¼Œç‰¹åœ°è®°å½•ä¸‹ã€‚å…·ä½“åœ°å€å¿˜äº†ï¼Œæœ‰éœ€è¦è‡ªå·±å¯ä»¥æœæœã€‚ğŸ¤£ æ€»ç»“&ensp;&ensp;&ensp;&ensp;ç»è¿‡ä¸€æ®µæ—¶é—´çš„ç†Ÿæ‚‰ï¼Œè‡ªå·±ä¹Ÿç®—åˆæŒæ¡ä¸€é¡¹æ–°ä¸œè¥¿äº†ã€‚åˆšå¼€å§‹è¿™ä¸ªShopifyæ’ä»¶åº”ç”¨å¼€å‘çœŸçš„æ˜¯å·¨å‘å•Šï¼Œè™½ç„¶å®˜æ–¹æœ‰æ–‡æ¡£æµç¨‹ï¼Œä½†æ˜¯éƒ½æ˜¯è‹±æ–‡çš„è€Œä¸”åŸºç¡€çš„æ­å»ºéƒ½æ˜¯apiéƒ½æ˜¯ç”¨GraphQLç„¶åæˆ‘è‡ªå·±å°è¯•äº†éƒ½æ˜¯å„ç§è¶…æ—¶æ“ä½œï¼Œè¯·æ±‚ä¸åˆ°æœ€åå°±è‡ªå·±å¼ƒç”¨äº†ï¼Œç”¨ResfulApiã€‚ç„¶åå°±æ˜¯é‡åˆ°é—®é¢˜å•Šå•¥çš„éƒ½è·Ÿæœ¬æœä¸åˆ°ï¼Œæˆ‘æƒ³ç€è¿™ä¹Ÿå¤ªéš¾äº†æˆ‘ï¼Œç„¶ååªèƒ½ç¡¬ç€å¤´çš®å»å®˜æ–¹æ–‡æ¡£é‡Œæ‰¾ï¼Œæœ€ååˆ°ç°åœ¨ä¹Ÿç®—æ˜¯èµ·èµ·ä¼ä¼ç»ˆäºéƒ½ç†Ÿæ‚‰äº†ï¼Œææ‡‚äº†ã€‚ &ensp;&ensp;&ensp;&ensp; è¿™ä¹‹åå‘ç°äº†è‹±æ–‡æ°´å¹³å¤ªé‡è¦äº†ã€‚è™½ç„¶å¼€å‘æ–‡æ¡£åŸºæœ¬å†…å®¹èƒ½çœ‹æ‡‚ï¼Œä½†æ˜¯éƒ½æ˜¯åŠçŒœåŠç–‘çš„ï¼Œç„¶åç¿»è¯‘ä¸€æ³¢ã€‚ï¼ˆå„ç§ä¸å‡†ç¡®ï¼‰ï¼Œç„¶åå¼€å§‹è¡¥è‹±æ–‡å§ã€‚ğŸ¤ &ensp;&ensp;&ensp;&ensp; æœ€åæ”¾ä¸Šå‡ ä¸ªShopifyå¼€å‘å¸¸ç”¨çš„å®˜æ–¹æ–‡æ¡£åœ°å€ï¼š &ensp;&ensp;&ensp;&ensp;Shopify Partners(åˆ›å»ºåº”ç”¨æŸ¥çœ‹åº”ç”¨): https://vue-composition-api-rfc.netlify.com &ensp;&ensp;&ensp;&ensp;Shopify Developers(å®˜æ–¹å¼€å‘æ–‡æ¡£): https://developers.shopify.comï¼ˆæ­å»ºå‚è€ƒæ–‡æ¡£ï¼‰ &ensp;&ensp;&ensp;&ensp;Shopify Polaris(å®˜æ–¹UIæ¡†æ¶): https://developers.shopify.com","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://jetbn.github.io/categories/Web%E5%89%8D%E7%AB%AF/"},{"name":"React","slug":"Webå‰ç«¯/React","permalink":"http://jetbn.github.io/categories/Web%E5%89%8D%E7%AB%AF/React/"}],"tags":[{"name":"Shopify","slug":"Shopify","permalink":"http://jetbn.github.io/tags/Shopify/"},{"name":"React","slug":"React","permalink":"http://jetbn.github.io/tags/React/"},{"name":"Next.js","slug":"Next-js","permalink":"http://jetbn.github.io/tags/Next-js/"}]},{"title":"mpvueå…¥å‘è®°å½•","slug":"mpvueå…¥å‘è®°å½•","date":"2020-04-29T02:57:09.000Z","updated":"2020-04-30T02:39:23.172Z","comments":true,"path":"2020/04/29/mpvueå…¥å‘è®°å½•/","link":"","permalink":"http://jetbn.github.io/2020/04/29/mpvue%E5%85%A5%E5%9D%91%E8%AE%B0%E5%BD%95/","excerpt":"","text":"ä½¿ç”¨MpVueå¼€å‘å°ç¨‹åºè®°å½•&#160; &#160; &#160; &#160; å½“ä¸‹è½»åº”ç”¨ï¼Œéå¸ƒå„å¤§äº’è”ç½‘å…¬å¸ã€‚åƒç™¾åº¦ã€æ”¯ä»˜å®ã€å¾®ä¿¡ã€å­—èŠ‚éƒ½æ˜¯æœ‰è‡ªå·±çš„å°ç¨‹åºå½¢å¼ï¼Œå°±ç°åœ¨QQä¹Ÿæ¨å‡ºäº†å°ç¨‹åºçš„å½¢å¼ï¼Œåƒè¿™ç§è½»åº”ç”¨åˆä¸éœ€è¦å®‰è£…ï¼Œå°±èƒ½æ‰“å¼€ï¼Œè€Œä¸”ä¹Ÿç±»ä¼¼äº†appå½¢å¼ã€‚å½“ç„¶ç›¸å¯¹äºå½¢å¼ä¹Ÿä¸èƒ½è¯´ä¸ä¼šå¼€å‘å§ï¼Œè¯¥å­¦çš„è¿˜æ˜¯å¾—å­¦ã€‚æ‰€ä»¥ç°åœ¨ä¹Ÿæœ‰å¾ˆå¤šåŸºäºæ¡†æ¶å»¶ä¼¸è€Œå‡ºçš„æ‰“åŒ…ç”Ÿæˆå¤šä¸ªå¹³å°çš„å°ç¨‹åºï¼Œä¾‹å¦‚ åŸºäºreactçš„taroã€è¿˜æœ‰wepyã€mpvueç›®å‰åº”è¯¥è¿™ä¸ªä¸‰ä¸ªæœ€ç«çƒ­äº†ï¼Œç„¶åæˆ‘å°è¯•äº†mpvueå¼€å‘äº†è¿‡ç¨‹ä¸è¯´å‘è¿˜æ˜¯æœ‰çš„ã€‚è‡ªå·±ä¹Ÿæ˜¯ä¸€æ­¥æ­¥è§£å†³ï¼Œæ‰€ä»¥å†³å®šè®°å½•ä¸€ä¸‹ã€‚ é¦–å…ˆå°±æ­å»ºäº†é¡¹ç›®ä½¿ç”¨ç›¸å…³ç¯å¢ƒè‡ªå·±ä¹Ÿæ˜¯å…¨éƒ¨å°è¯•äº†ä¸€éå®‰è£…äº†scssç¯å¢ƒä»¥åŠvuexï¼Œå¥½åƒæœ‰è§£å†³çš„vue-routerè‡ªå·±æ²¡æœ‰å°è¯•. 1.1 é¦–å…ˆè®²ä¸‹scssçš„mixinæˆ‘åœ¨å…¨å±€çš„æ—¶å€™å¼•å…¥åœ¨é¡µé¢é¡µé¢ä¸­èƒ½ç”¨ï¼Œä¸ºä»€ä¹ˆåœ¨ç»„ä»¶ä¸­ç”¨ä¸äº†è¿™æ˜¯å•¥æˆ‘ä¹Ÿä¸æ˜¯æ¸…æ¥šã€‚è¿˜æœ‰å°±æ˜¯æˆ‘åœ¨scssä¸­ä½¿ç”¨fontå­—ä½“çš„é—®é¢˜ï¼Œåœ¨æ­¤ä¸­æˆ‘é€šè¿‡æœ¬åœ°çš„æ–¹å¼å¼•å…¥å‘ç°å°±æ˜¯åŠ è½½ä¸äº†ï¼Œåæ¥å¯»æ‰¾æ–¹æ¡ˆåœ¨äº¤æµç¾¤ä¸­å¾—çŸ¥æ˜¯å¾—å°†æ–‡ä»¶æ”¾åœ¨staticæ–‡ä»¶ä¸‹å¹¶ä¸”ä½¿ç”¨ç»å¯¹è·¯å¾„çš„æ–¹å¼å¼•ç”¨ï¼Œæ˜¯æœ‰æ•ˆä¸æŠ¥é”™äº†ã€‚ä½†æ˜¯å°ç¨‹åºæ‰“åŒ…åˆä¸Šä¼ äº†ä¸äº†ï¼Œåæ¥æˆ‘å°±ç›´æ¥å¹²è„†æ”¾æœåŠ¡å™¨ä¸Šäº†ï¼Œå†é€šè¿‡å¼•ç”¨ï¼Œè¿™ä¸‹æ€»æ²¡é—®é¢˜äº†ã€‚ 1.2 å†æ¬¡å°±æ˜¯vuexåœ¨main.jsä¸­å¼•ç”¨åœ¨vueçš„åŸå‹ä¸ŠåŠ è€Œä¸æ˜¯åƒvue-cliä¸­ä½¿ç”¨ä¸€æ · ç›´æ¥å†™åœ¨new VUEä¸­ã€‚ åœ¨main.jsä¸­å®šä¹‰ 12345678910import Vue from &#39;vue&#39;import App from &#39;.&#x2F;App&#39;import store from &#39;.&#x2F;store&#39;Vue.config.productionTip &#x3D; falseApp.mpType &#x3D; &#39;app&#39;Vue.prototype.$store &#x3D; storeconst app &#x3D; new Vue(App)app.$mount() åœ¨é¡µé¢ä¸­ä½¿ç”¨ 1this.$store.state ä¹Ÿå¯ä»¥ä½¿ç”¨vuexçš„mapStateå¼•ç”¨æŸä¸ªstate 12345678&#x2F;&#x2F; å¤´éƒ¨å¯¼å…¥import &#123; mapState &#125; from &#39;vuex&#39;&#x2F;&#x2F; åœ¨è®¡ç®—å±æ€§ä¸­...mapState([ &#39;carBrandCityPrev&#39; &#x2F;&#x2F; å¯¹åº”staeä¸­å®šä¹‰çš„]), è‡ªå®šä¹‰TabBarè‡ªå·±åˆšå¼€å§‹ä½¿ç”¨ä¹Ÿæ˜¯ä¸€å¤´æ°´é›¾ï¼Œå¾®ä¿¡å°ç¨‹åºæ›´æ–°çš„å¾ˆå¿«ã€‚æˆ‘ä¹‹å‰å†™çš„ä¸€ä¸ªå°ç¨‹åºç”¨çš„æ˜¯åŸç”Ÿå¼€å‘çš„æ—¶å€™ï¼Œé‚£æ—¶å€™è¿˜æ²¡æœ‰ä»€ä¹ˆå®šä¹‰TabBarå•Šã€å¯¼èˆªæ ã€ç»„ä»¶å•Šä»€ä¹ˆçš„ã€‚åæ¥æˆ‘ä¹Ÿæ˜¯çœ‹äº†ä¸‹å®˜æ–¹çš„demoä»¥åŠgithubä¸­mpuveé¡¹ç›®çš„issueä¸­æ‰¾è§£å†³æ–¹æ¡ˆï¼Œæœ€ç»ˆè¿˜æ˜¯ç›´æ¥ä¸Šæ‰‹æäº†ä¸€æ³¢ã€‚ä¸­é€”ä¹Ÿæ˜¯ååå·å·ã€‚ è´´ä¸ªè‡ªå®šä¹‰tabbaråœ°å€: https://github.com/jetBn/mpvue-custom-tab-bar å°ç¨‹åºä¸­è·å–åœ°ç†ä½ç½®æˆæƒé—®é¢˜ï¼Œåªæœ‰åœ¨ç¬¬ä¸€æ¬¡è¿›å…¥çš„ä¼šæç¤ºæ˜¯å¦æˆæƒå¦‚æœæ‹’ç»äº†æˆæƒç¬¬äºŒè¿›å…¥éƒ½ä¸ä¼šæˆæƒï¼Œéƒ½ä¼šèµ°æˆæƒä½ç½®çš„failæ–¹æ³•,æ‰€ä»¥è¿™ä¸ªåŸå› é—®é¢˜ã€‚æˆ‘ä»¬åªèƒ½æ˜¯é€šè¿‡å¾®ä¿¡çš„è·å–ç”¨æˆ·çš„å½“å‰è®¾ç½®æ£€æŸ¥ wx.getSettingapiå»æ£€æŸ¥å½“å‰æ˜¯å¦æˆæƒï¼Œé€šè¿‡æ­¤æ–¹æ³•æ”¾åœ¨failæ–¹æ³•ä¸­æ£€æµ‹å½“å‰æ˜¯å¦å¼€å¯æˆæƒåœ°ç†ä½ç½®ï¼Œå¦‚æœæ²¡æœ‰é‡æ–°è°ƒç”¨åœ°ç†ä½ç½®æˆæƒçš„æ–¹æ³•ã€‚ ç›¸å…³æ£€æŸ¥æ˜¯å¦æˆæƒæ–¹æ³•ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243&#x2F;&#x2F; fnæŒ‡ç›¸å…³é‡æ–°æˆæƒçš„æ–¹æ³• export function checkGetLocationPermison (fn) &#123; wx.getSetting(&#123; success: (res) &#x3D;&gt; &#123; const status &#x3D; res.authSetting if (!status[&#39;scope.userLocation&#39;]) &#123; wx.showModal(&#123; title: &#39;æ˜¯å¦æˆæƒå½“å‰ä½ç½®&#39;, content: &#39;éœ€è¦è·å–æ‚¨çš„åœ°ç†ä½ç½®ï¼Œè¯·ç¡®è®¤æˆæƒï¼Œå¦åˆ™åœ°å›¾åŠŸèƒ½å°†æ— æ³•ä½¿ç”¨è·å–ä¸äº†ä¼˜æƒ åˆ¸ä¿¡æ¯&#39;, success: (subRes) &#x3D;&gt; &#123; if (subRes.confirm) &#123; wx.openSetting(&#123; success: (subRes) &#x3D;&gt; &#123; if (subRes.authSetting[&#39;scope.userLocation&#39;] &#x3D;&#x3D;&#x3D; true) &#123; wx.showToast(&#123; title: &#39;æˆæƒæˆåŠŸ&#39;, icon: &#39;success&#39;, duration: 1000 &#125;) fn() &#125; else &#123; wx.showToast(&#123; title: &#39;æˆæƒå¤±è´¥&#39;, icon: &#39;success&#39;, duration: 1000 &#125;) &#125; &#125; &#125;) &#125; &#125; &#125;) &#125; &#125;, fail: () &#x3D;&gt; &#123; wx.showToast(&#123; title: &#39;è°ƒç”¨æˆæƒçª—å£å¤±è´¥&#39;, icon: &#39;success&#39;, duration: 1000 &#125;) &#125; &#125;) &#125; åœ¨mpvueæ˜¯axioså…¨å±€å¤„ç†è¯·æ±‚è¿”å›å€¼ä»¥åŠè¯·æ±‚å¤´è®¾ç½®ç­‰ç­‰ã€‚åœ¨npm i axios qsåæ–°å»ºrequest.jsæ–‡ä»¶ï¼Œå¼•å…¥qså¤„ç†axiosä¸­postè¯·æ±‚ï¼Œç„¶åå¾®ä¿¡å°ç¨‹åºä¸­æ˜¯ä½¿ç”¨wx.requestå‘é€è¯·æ±‚çš„å¹¶ä¸æ˜¯ç›´æ¥ä½¿ç”¨axioså°±å¯ä»¥çš„ï¼Œæ‰€ä»¥ä½¿ç”¨axiosçš„adapter å±æ€§è¿›è¡Œæˆ‘ä»¬çš„è¯·æ±‚æ“ä½œã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&#x2F;&#x2F; åˆ›å»ºaxioså®ä¾‹const Axios &#x3D; axios.create(&#123; baseURL: &#39;&#39;, &#x2F;&#x2F; è®¾ç½®è¯·æ±‚åŸŸååœ°å€ timeout: 1000 * 60 * 10, &#x2F;&#x2F; è®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´ responseType: &#39;json&#39; &#x2F;&#x2F; è®¾ç½®è¿”å›å€¼ç±»å‹&#125;)&#x2F;&#x2F; ç„¶åä½¿ç”¨Axioså®ä¾‹çš„adapterè¿›è¡Œå°è£…å¾®ä¿¡è¯·æ±‚Axios.defaults.adapter &#x3D; (config) &#x3D;&gt; &#123; return new Promise((resolve, reject) &#x3D;&gt; &#123; let data &#x3D; config.method &#x3D;&#x3D;&#x3D; &#39;get&#39; ? config.params : qs.stringify(config.params) wx.request(&#123; url: config.url, method: config.method, header: &#123;&#39;Content-type&#39;: &#39;application&#x2F;x-www-form-urlencoded&#39;&#125;, data, success: (res) &#x3D;&gt; (resolve(res)), fail: (err) &#x3D;&gt; (reject(err)) &#125;) &#125;)&#125;&#x2F;&#x2F; è¯·æ±‚æ‹¦æˆªAxios.interceptors.request.use((request) &#x3D;&gt; &#123; return request&#125;, (error) &#x3D;&gt; &#123; return Promise.reject(error)&#125;)&#x2F;&#x2F; å“åº”æ‹¦æˆªAxios.interceptors.response.use((response) &#x3D;&gt; &#123; return response&#125;, (error) &#x3D;&gt; &#123; return Promise.reject(error)&#125;)&#x2F;&#x2F; å¯¼å‡ºå“åº”çš„æ–¹æ³•export function fetch (options) &#123; return new Promise((resolve, reject) &#x3D;&gt; &#123; Axios(options) .then(response &#x3D;&gt; &#123; resolve(response) &#125;) .catch(error &#x3D;&gt; &#123; reject(error) &#125;) &#125;)&#125; ç›¸å…³è‡ªå®šä¹‰å¤´éƒ¨å¯¼èˆªæ æ ¹æ®ç›¸å…³è®¾å¤‡åˆ¤æ–­è®¾ç½®é«˜åº¦ï¼Œç›¸å…³è®¡ç®—æ˜¯é¡¶éƒ¨çŠ¶æ€æ çš„é«˜åº¦åŠ ä¸Šç›¸å…³å®šä¹‰çš„é«˜åº¦ã€‚ 12345678910111213141516&#x2F;&#x2F;å¾®ä¿¡è·å–ç›¸å…³è®¾å¤‡ä¿¡æ¯çš„APIwx.getSystemInfo(&#123; success (system) &#123; &#x2F;&#x2F; console.log(&#96;system:&#96;, system) self.statusBarHeight &#x3D; system.statusBarHeight self.platform &#x3D; system.platform const windowHeight &#x3D; system.windowHeight let platformReg &#x3D; &#x2F;ios&#x2F;i if (platformReg.test(system.platform)) &#123; self.titleBarHeight &#x3D; 44 &#x2F;&#x2F; isoçš„é«˜åº¦ &#125; else &#123; self.titleBarHeight &#x3D; 48 &#x2F;&#x2F;android çš„é«˜åº¦ &#125; self.navBarHeight &#x3D; self.statusBarHeight + self.titleBarHeight &#125;&#125;) mpvueä¸­ä½¿ç”¨ç»„ä»¶å¼å°è£… ç„¶åæ˜¯å†…å®¹ä½¿ç”¨æ’æ§½å½¢å¼ï¼Œåœ¨ä½¿ç”¨ç»„ä»¶çš„ä½¿ç”¨æ’æ§½å†…çš„å†…å®¹æ•°æ®æ›´æ–°é¡µé¢ä¸ä¼šå®æ—¶æ›´æ–° ã€‚ï¼ˆçˆ¶ç»„ä»¶æ’æ§½å†…å®¹å—ä¸­ä½¿ç”¨çš„ä¹Ÿæ˜¯ç»„ä»¶å°è£…çš„ç»„ä»¶ï¼‰ï¼ˆé—®é¢˜1ï¼‰ã€‚ç„¶åæˆ‘ä½¿ç”¨äº† ä¸å°è£…ç»„ä»¶ ç›´æ¥å†™é¡µé¢æ ·å¼ç‚¹å‡»ç»„ä»¶çš„äº‹ä»¶ä¼šè§¦å‘æ’æ§½ä¸­çš„äº‹ä»¶ï¼Ÿï¼Ÿï¼Ÿï¼ˆé—®é¢˜2ï¼‰ äº‹ä»¶è·Ÿæ’æ§½ä¸­çš„äº‹ä»¶ä¸åœ¨åŒä¸€ä¸ªdivä¸­ã€‚æœ€åå°±æ˜¯ä¸ç”¨æ’æ§½æ‰è§£å†³äº†ä¸Šè¿°é—®é¢˜1ï¼Œ2 npm run dev ä¼šå¡åœ¨node build/dev-server.js wx æœ€åæˆ‘è‡ªå·±ä¹Ÿæ˜¯åœ¨å®˜æ–¹çš„githubä»“åº“ä¸­çš„issuä¸­æ‰¾åˆ°è§£å†³æ–¹æ¡ˆåœ¨buildæ–‡ä»¶å¤¹çš„build.jsä¸­require(&#39;./check-versions&#39;)()æ³¨é‡Šæ‰ç„¶åä¹Ÿå°±èƒ½æ­£å¸¸è¿è¡Œäº†ã€‚å…·ä½“çš„å¥½åƒæ˜¯åœ¨ç»è¿‡check-versionså‡½æ•°çš„æ—¶å€™æ‰§è¡Œç‰¹åˆ«çš„æ…¢ã€‚ &#160; &#160; &#160; &#160;æœ€åæ€»ç»“ä¸‹MpVueè¿™ä¸ªç›¸å¯¹äºvueé’ˆå¯¹äºå°ç¨‹åºçš„æ¡†æ¶ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯ä½¿ç”¨vueç›¸å…³è¯­æ³•æ‰€ä»¥å¯¹äºç†Ÿæ‚‰vueçš„æ¥è¯´è¿˜æ˜¯å¾ˆå®¹æ˜“ä¸Šæ‰‹çš„ã€‚å¼€å‘æ•ˆç‡ä¹Ÿè¿˜å¯ä»¥ã€‚æ„Ÿè§‰ä¼šä½¿ç”¨vueå†æ¬¡ç†Ÿæ‚‰å¾®ä¿¡å°ç¨‹åºå®˜æ–¹çš„APIå¼€å‘æ•ˆç‡è¿˜æ˜¯å¾ˆé«˜çš„ï¼Œä¸è¿‡è¿˜æ˜¯æœ‰æŒºå¤šå‘çš„ï¼Œæˆ‘è¿™è¾¹å‘å¯èƒ½æ˜¯æ²¡æœ‰é‡åˆ°å¾ˆå¤šã€‚å¾ˆå¹¸è¿ï¼Œå…·ä½“çš„ç›¸å…³çš„è¯­æ³•æƒ…å†µå¯ä»¥å¯¹åº”å®˜æ–¹ç½‘ç«™çš„ä»‹ç»æƒ…å†µã€‚ &#160; &#160; &#160; &#160;æœ€åé™„ä¸Šç›¸å…³ç½‘ç«™åœ°å€ï¼š &#160; &#160; &#160; &#160;å®˜æ–¹ç½‘ç«™ï¼šhttp://mpvue.com &#160; &#160; &#160; &#160;githubç›¸å…³ä»“åº“åœ°å€ï¼š https://github.com/Meituan-Dianping/mpvue","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://jetbn.github.io/categories/Web%E5%89%8D%E7%AB%AF/"},{"name":"Vue","slug":"Webå‰ç«¯/Vue","permalink":"http://jetbn.github.io/categories/Web%E5%89%8D%E7%AB%AF/Vue/"},{"name":"å°ç¨‹åº","slug":"Webå‰ç«¯/Vue/å°ç¨‹åº","permalink":"http://jetbn.github.io/categories/Web%E5%89%8D%E7%AB%AF/Vue/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"}],"tags":[{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","permalink":"http://jetbn.github.io/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"}]}],"categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://jetbn.github.io/categories/Web%E5%89%8D%E7%AB%AF/"},{"name":"Vue","slug":"Webå‰ç«¯/Vue","permalink":"http://jetbn.github.io/categories/Web%E5%89%8D%E7%AB%AF/Vue/"},{"name":"React","slug":"Webå‰ç«¯/React","permalink":"http://jetbn.github.io/categories/Web%E5%89%8D%E7%AB%AF/React/"},{"name":"å°ç¨‹åº","slug":"Webå‰ç«¯/Vue/å°ç¨‹åº","permalink":"http://jetbn.github.io/categories/Web%E5%89%8D%E7%AB%AF/Vue/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://jetbn.github.io/tags/CSS/"},{"name":"Vue","slug":"Vue","permalink":"http://jetbn.github.io/tags/Vue/"},{"name":"Shopify","slug":"Shopify","permalink":"http://jetbn.github.io/tags/Shopify/"},{"name":"React","slug":"React","permalink":"http://jetbn.github.io/tags/React/"},{"name":"Next.js","slug":"Next-js","permalink":"http://jetbn.github.io/tags/Next-js/"},{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","permalink":"http://jetbn.github.io/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"}]}