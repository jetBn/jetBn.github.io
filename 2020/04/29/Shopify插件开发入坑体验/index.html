<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- å¼ºåˆ¶é¡µé¢åœ¨å½“å‰çª—å£ä»¥ç‹¬ç«‹é¡µé¢æ˜¾ç¤º,é˜²æ­¢åˆ«äººåœ¨æ¡†æ¶é‡Œè°ƒç”¨é¡µé¢ -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>Shopifyæ’ä»¶å¼€å‘å…¥å‘ä½“éªŒ | åšå®¢</title>
  <meta name="description" content="å‰è¨€&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;ç”±äºå…¬å¸çš„éœ€æ±‚å¼€å‘Shopifyçš„åº”ç”¨æ’ä»¶è‡ªå·±ç‰¹åœ°è®°å½•ä¸‹ã€‚ç®€å•çš„ä»‹ç»ä¸‹Shopify,å®ƒæ˜¯ç”±æ‰˜æ¯”äºšæ–¯Â·å¢å…‹åˆ›åŠçš„åŠ æ‹¿å¤§ç”µå­å•†åŠ¡è½¯ä»¶å¼€å‘å•†ï¼Œæ€»éƒ¨ä½äºåŠ æ‹¿å¤§é¦–éƒ½æ¸¥å¤ªåï¼Œå…¶æä¾›çš„æœåŠ¡è½¯ä»¶Shopifyæ˜¯ä¸€ä¸ªSaaSé¢†åŸŸçš„è´­ç‰©è½¦ç³»ç»Ÿï¼Œé€‚åˆè·¨å¢ƒç”µå•†å»ºç«‹ç‹¬ç«‹ç«™ï¼Œç”¨æˆ·æ”¯ä»˜ä¸€å®šè´¹ç”¨å³å¯åœ¨å…¶ä¸Šåˆ©ç”¨å„ç§ä¸»é¢˜&#x2F;æ¨¡æ¿å»ºç«‹è‡ªå·±çš„ç½‘ä¸Šå•†åº—ã€‚ &amp;ensp;&amp;ensp;&amp;en">
<meta property="og:type" content="article">
<meta property="og:title" content="Shopifyæ’ä»¶å¼€å‘å…¥å‘ä½“éªŒ">
<meta property="og:url" content="http://jetbn.github.io/2020/04/29/Shopify%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E5%85%A5%E5%9D%91%E4%BD%93%E9%AA%8C/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="å‰è¨€&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;ç”±äºå…¬å¸çš„éœ€æ±‚å¼€å‘Shopifyçš„åº”ç”¨æ’ä»¶è‡ªå·±ç‰¹åœ°è®°å½•ä¸‹ã€‚ç®€å•çš„ä»‹ç»ä¸‹Shopify,å®ƒæ˜¯ç”±æ‰˜æ¯”äºšæ–¯Â·å¢å…‹åˆ›åŠçš„åŠ æ‹¿å¤§ç”µå­å•†åŠ¡è½¯ä»¶å¼€å‘å•†ï¼Œæ€»éƒ¨ä½äºåŠ æ‹¿å¤§é¦–éƒ½æ¸¥å¤ªåï¼Œå…¶æä¾›çš„æœåŠ¡è½¯ä»¶Shopifyæ˜¯ä¸€ä¸ªSaaSé¢†åŸŸçš„è´­ç‰©è½¦ç³»ç»Ÿï¼Œé€‚åˆè·¨å¢ƒç”µå•†å»ºç«‹ç‹¬ç«‹ç«™ï¼Œç”¨æˆ·æ”¯ä»˜ä¸€å®šè´¹ç”¨å³å¯åœ¨å…¶ä¸Šåˆ©ç”¨å„ç§ä¸»é¢˜&#x2F;æ¨¡æ¿å»ºç«‹è‡ªå·±çš„ç½‘ä¸Šå•†åº—ã€‚ &amp;ensp;&amp;ensp;&amp;en">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2020/1/16/16facfbcc2c3ad20?w=500&h=144&f=png&s=18435">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2020/1/16/16fadd29cd892624?w=1477&h=599&f=png&s=141044">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2020/1/16/16fadd983d275ceb?w=1579&h=744&f=jpeg&s=164230">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2020/1/16/16faddc034ed8c10?w=965&h=849&f=png&s=60560">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2020/1/16/16fade6ef2e35432?w=496&h=355&f=png&s=19659">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2020/1/17/16fb29415dbff038?w=976&h=519&f=png&s=30962">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2020/1/17/16fb2a914762cace?w=434&h=214&f=png&s=6256">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2020/1/17/16fb2af2f6b051c0?w=1317&h=551&f=png&s=32089">
<meta property="article:published_time" content="2020-04-29T02:58:15.000Z">
<meta property="article:modified_time" content="2020-04-29T02:58:21.115Z">
<meta property="article:author" content="jetBn">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://user-gold-cdn.xitu.io/2020/1/16/16facfbcc2c3ad20?w=500&h=144&f=png&s=18435">
  <!-- Canonical links -->
  <link rel="canonical" href="http://jetbn.github.io/2020/04/29/Shopify%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E5%85%A5%E5%9D%91%E4%BD%93%E9%AA%8C/index.html">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
  
<meta name="generator" content="Hexo 4.2.0"></head>


<body class="main-center" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="https://github.com/jetBn" target="_blank">
          <img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">é™ˆæ–‡ä¸œ</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md">Webå‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ</h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> æ­å·, ä¸­å›½</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="æœç´¢" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Ã—</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav ">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">é¦–é¡µ</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">å½’æ¡£</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">åˆ†ç±»</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            
            <i class="icon icon-tags"></i>
            
            <span class="menu-title">æ ‡ç­¾</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">é¡¹ç›®</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">å‹é“¾</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            
            <i class="icon icon-cup-fill"></i>
            
            <span class="menu-title">å…³äº</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/jetBn" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://weibo.com/cofess" target="_blank" title="Weibo" data-toggle=tooltip data-placement=top><i class="icon icon-weibo"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">å…¬å‘Š</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p>æ¬¢è¿äº¤æµä¸åˆ†äº«ç»éªŒ!</p>
            </div>
        </div>
    </div>
</div>

    
      

    
      

    
      
    
      
  <div class="widget">
    <h3 class="widget-title">å½’æ¡£</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">å››æœˆ 2020</a><span class="archive-list-count">3</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">æœ€æ–°æ–‡ç« </h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2020/04/29/Vue3-0%E5%B0%9D%E8%AF%95/" class="title">Vue3.0å°è¯•</a>
              </p>
              <p class="item-date">
                <time datetime="2020-04-29T02:59:17.000Z" itemprop="datePublished">2020-04-29</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2020/04/29/Shopify%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E5%85%A5%E5%9D%91%E4%BD%93%E9%AA%8C/" class="title">Shopifyæ’ä»¶å¼€å‘å…¥å‘ä½“éªŒ</a>
              </p>
              <p class="item-date">
                <time datetime="2020-04-29T02:58:15.000Z" itemprop="datePublished">2020-04-29</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2020/04/29/mpvue%E5%85%A5%E5%9D%91%E8%AE%B0%E5%BD%95/" class="title">mpvueå…¥å‘è®°å½•</a>
              </p>
              <p class="item-date">
                <time datetime="2020-04-29T02:57:09.000Z" itemprop="datePublished">2020-04-29</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<main class="main" role="main">
  <div class="content">
  <article id="post-Shopifyæ’ä»¶å¼€å‘å…¥å‘ä½“éªŒ" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      Shopifyæ’ä»¶å¼€å‘å…¥å‘ä½“éªŒ
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2020/04/29/Shopify%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E5%85%A5%E5%9D%91%E4%BD%93%E9%AA%8C/" class="article-date">
	  <time datetime="2020-04-29T02:58:15.000Z" itemprop="datePublished">2020-04-29</time>
	</a>
</span>
        
        

        

        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/2020/04/29/Shopify%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E5%85%A5%E5%9D%91%E4%BD%93%E9%AA%8C/#comments" class="article-comment-link">è¯„è®º</a></span>
        
      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <p><img src="https://user-gold-cdn.xitu.io/2020/1/16/16facfbcc2c3ad20?w=500&h=144&f=png&s=18435" alt=""></p>
<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>&ensp;&ensp;&ensp;&ensp;ç”±äºå…¬å¸çš„éœ€æ±‚å¼€å‘<code>Shopify</code>çš„åº”ç”¨æ’ä»¶è‡ªå·±ç‰¹åœ°è®°å½•ä¸‹ã€‚ç®€å•çš„ä»‹ç»ä¸‹<code>Shopify</code>,å®ƒæ˜¯ç”±æ‰˜æ¯”äºšæ–¯Â·å¢å…‹åˆ›åŠçš„åŠ æ‹¿å¤§ç”µå­å•†åŠ¡è½¯ä»¶å¼€å‘å•†ï¼Œæ€»éƒ¨ä½äºåŠ æ‹¿å¤§é¦–éƒ½æ¸¥å¤ªåï¼Œå…¶æä¾›çš„æœåŠ¡è½¯ä»¶<code>Shopify</code>æ˜¯ä¸€ä¸ª<code>SaaS</code>é¢†åŸŸçš„è´­ç‰©è½¦ç³»ç»Ÿï¼Œé€‚åˆè·¨å¢ƒç”µå•†å»ºç«‹ç‹¬ç«‹ç«™ï¼Œç”¨æˆ·æ”¯ä»˜ä¸€å®šè´¹ç”¨å³å¯åœ¨å…¶ä¸Šåˆ©ç”¨å„ç§ä¸»é¢˜/æ¨¡æ¿å»ºç«‹è‡ªå·±çš„ç½‘ä¸Šå•†åº—ã€‚</p>
<p>&ensp;&ensp;&ensp;&ensp;ç”±äºæ˜¯å›½å¤–çš„å®˜ç½‘æ–‡æ¡£ä¹Ÿéƒ½æ˜¯è‹±æ–‡ï¼Œçœ‹èµ·æ¥æœ‰ç‚¹åƒåŠ›å“¦ï¼ˆå°ç”Ÿè‹±æ–‡æ°´å¹³æœ‰é™ğŸ¤£ğŸ¤£ï¼‰ã€‚ä¸è¿‡ä¹‹ååº”è¯¥æœ‰ä¸­æ–‡äº†ç°åœ¨å¾ˆå¤šé¡µé¢æœ‰ä¸­æ–‡äº†å·²ç»ã€‚</p>
<p>&ensp;&ensp;&ensp;&ensp;è¯¥åº”è¯¥ç”¨æ’ä»¶å®˜æ–¹æ¨èæ˜¯ç”¨<code>React</code>çš„<code>next.js</code>æœåŠ¡ç«¯æ¸²æŸ“æ¡†æ¶ä»¥åŠ<code>node.js</code>ä½œä¸ºåç«¯è¯­è¨€ä½¿ç”¨<code>GraphQL</code>å¼€å‘ã€‚ä½œä¸ºæ²¡æ¥è§¦è¿‡<code>GraphQL</code>çš„æˆ‘èµ¶ç´§è¡¥äº†ä¸€æ³¢çŸ¥è¯†ã€‚åæ¥æˆ‘ä¸€è·¯è·Œè·Œæ’æ’ç»ˆäºç°åœ¨æ˜¯äº†è§£äº†ä¸€ä¸ªå¤§æ¦‚ã€‚æœ€ç»ˆæˆ‘è¿˜æ˜¯ä½¿ç”¨<code>node</code>ä½œä¸ºä¸»å…¥å£ç¨‹åºï¼ŒéªŒè¯åº”ç”¨æ’ä»¶è·å–ç›¸å…³çš„<code>access_token</code>å’Œå•†åº—åœ°å€ã€‚å‰©ä¸‹çš„è¯·æ±‚ä»€ä¹ˆ<code>Shopify</code>æ¥å£ä¹Ÿæ²¡æœ‰ç”¨<code>GraphQL</code>è€Œæ˜¯ä½¿ç”¨äº†<code>ResfulApi</code>è®©åç«¯å·¥ä½œäººå‘˜å»æ“ä½œäº†ï¼Œç„¶åæˆ‘è¯·æ±‚åç«¯æ¥å£è¿›è¡Œä¸€ç³»åˆ—æ“ä½œã€‚ï¼ˆæœ€åç†Ÿæ‚‰äº†ï¼Œä»€ä¹ˆéªŒè¯éƒ½æ˜¯ä¸¢ç»™åç«¯æ“ä½œäº†ï¼Œå‰ç«¯æˆ‘ä¹Ÿå°±å¯ä»¥ä½¿ç”¨å„ç§æ¡†æ¶äº†è€Œä¸æ˜¯å•å•åªèƒ½ä½¿ç”¨<code>next.js</code>ï¼‰ã€‚</p>
<h2 id="æ³¨å†Œè·å–å¼€å‘å‰æè¦ç´ "><a href="#æ³¨å†Œè·å–å¼€å‘å‰æè¦ç´ " class="headerlink" title="æ³¨å†Œè·å–å¼€å‘å‰æè¦ç´ "></a>æ³¨å†Œè·å–å¼€å‘å‰æè¦ç´ </h2><ol>
<li>åˆ›å»º<code>Shopify</code>å¼€å‘è€…è´¦å·<br><img src="https://user-gold-cdn.xitu.io/2020/1/16/16fadd29cd892624?w=1477&h=599&f=png&s=141044" alt=""><br>å¦‚å›¾åœ¨<a href="https://developers.shopify.com/" target="_blank" rel="noopener">https://developers.shopify.com/</a>ç½‘ç«™æ³¨å†Œç›¸å…³çš„è´¦å·ã€‚</li>
<li>åœ¨ç›¸å…³<code>partners</code>çš„é¡µé¢åˆ›å»ºå•†åº—(ä»¥ä¾›åé¢å¼€å‘åº”ç”¨ä½¿ç”¨)ä»¥åŠåº”ç”¨<br><img src="https://user-gold-cdn.xitu.io/2020/1/16/16fadd983d275ceb?w=1579&h=744&f=jpeg&s=164230" alt=""><ol>
<li>åœ¨åˆ›å»ºåº”ç”¨çš„æœ‰è‡ªå®šä¹‰åº”ç”¨å’Œå…¬å…±åº”ç”¨å¦‚å›¾ï¼š<br> <img src="https://user-gold-cdn.xitu.io/2020/1/16/16faddc034ed8c10?w=965&h=849&f=png&s=60560" alt=""><br> ä¸€èˆ¬æˆ‘ç›¸ä¿¡æˆ‘æˆ‘ä»¬éƒ½æ˜¯åˆ›å»ºçš„å…¬å…±åº”ç”¨ï¼Œåˆ°ç›®å‰æˆ‘å¼€å‘çš„åº”ç”¨ä¹Ÿéƒ½æ˜¯å…¬å…±ç±»å‹ï¼Œåœ¨åˆ›å»ºåº”ç”¨çš„æ—¶å€™<code>URL</code>å’Œç›¸å…³çš„é‡å®šå‘<code>URL</code>éƒ½æ˜¯å¿…é¡»å†™çš„å› ä¸ºæˆ‘ä¹Ÿæ²¡æœ‰æ³¨å†ŒåŸŸåå•¥çš„å§ï¼Œæ‰€ä»¥æ­¤æ—¶æ˜¯ç”¨äº†<code>ngrok</code>å†…ç½‘ç©¿é€ï¼Œåœ¨å®˜æ–¹çš„å¼€å‘ä»‹ç»ä¸­ä¹Ÿæ˜¯ä½¿ç”¨è¿™ä¸ªã€‚åœ¨æ­¤æˆ‘ä»¬å¡«å†™çš„<code>URL</code>å°±è¦å’Œä½ ä½¿ç”¨<code>ngrok</code>æš´éœ²å‡ºå»çš„åœ°å€å¯¹åº”äº†ï¼Œä¸è¿‡ä½¿ç”¨<code>node</code>çš„<code>koa</code>æ¡†æ¶æœ‰ä¸ªä¸“é—¨çš„ä¸­é—´ä»¶ä¹Ÿæ˜¯å®˜æ–¹ä½¿ç”¨çš„é‡å®šå‘åœ°å€éƒ½æ˜¯åŸŸåååŠ ä¸Šäº†<code>shopify/auth</code> ä¾‹å¦‚ï¼š  URL:<code>https://30aca829.ngrok.io</code>, é‡å®šå‘URL:<code>https://30aca829.ngrok.io/shopify/auth/</code>ï¼ˆç”µè„‘é‡å¯é‡æ–°æš´éœ²å‡ºå»è¿™ä¸ªè¿ä¸ªåœ°å€éƒ½æ˜¯è¦é‡æ–°å¡«ä¸€éï¼Œç„¶å<code>koa</code>çš„ä¸­é—´ä»¶å°±ä¼šè·³è½¬åˆ°<code>https://30aca829.ngrok.io/shopify/auth/</code>è¿›è¡Œç›¸å…³çš„éªŒè¯æ“ä½œã€‚ï¼ˆè¿™åœ¨åé¢çš„å…¥å£ï¼‰ã€‚åºä¸­ä¼šä¸Šä»£ç ï¼Œç„¶ååœ¨åæœŸæˆ‘ä»¬æ²¡æœ‰ç”¨<code>koa</code>ä½œä¸ºå…¥å£è¿™ä¸ªåœ°å€ä¹Ÿæ˜¯å¯ä»¥è‡ªå·±æƒ³æ€ä¹ˆå¡«å°±æ€ä¹ˆå¡«ï¼‰ã€‚</li>
<li>åˆ›å»ºå®Œæˆï¼ˆæ‹¿å–ç›¸å…³çš„å¯†é’¥å¾ˆé‡è¦ï¼ï¼å¾ˆé‡è¦ï¼ï¼ä½œä¸ºå¼€å‘è¯»å–æ•°æ®å’Œè¯·æ±‚å®˜æ–¹<code>api</code>ä½¿ç”¨ï¼‰<br> <img src="https://user-gold-cdn.xitu.io/2020/1/16/16fade6ef2e35432?w=496&h=355&f=png&s=19659" alt=""><br> å·®ä¸å¤šäº†å‰æå°±è¿™äº›æ­¥éª¤ï¼Œæ³¨å†ŒæˆåŠŸä¹‹åå¡«å†™å¥½æ¥ä¸‹æ¥å°±æ˜¯ä¸€ç³»åˆ—ä»£ç æ“ä½œäº†ã€‚</li>
</ol>
</li>
</ol>
<h2 id="ç¼–å†™å¼€å‘ç¯å¢ƒç¨‹åº"><a href="#ç¼–å†™å¼€å‘ç¯å¢ƒç¨‹åº" class="headerlink" title="ç¼–å†™å¼€å‘ç¯å¢ƒç¨‹åº"></a>ç¼–å†™å¼€å‘ç¯å¢ƒç¨‹åº</h2><ol>
<li><p>åˆ›å»ºé¡¹ç›®ç›®å½•ï¼ˆsample-appï¼‰ï¼Œå¹¶ä½¿ç”¨<code>npm</code>åˆå§‹åŒ–é¡¹ç›®ç›®å½• </p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init -y</span><br></pre></td></tr></table></figure></li>
<li><p>å®‰è£…ç›¸å…³ä¾èµ–</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save react react-dom next</span><br></pre></td></tr></table></figure></li>
<li><p>å› ä¸ºæ˜¯ç”¨<code>next.js</code>æ‰€ä»¥ä¸ç†Ÿæ‚‰çš„è¿˜å¾—çœ‹çœ‹å®˜æ–¹æ–‡æ¡£ <a href="https://nextjs.frontendx.cn/" target="_blank" rel="noopener">https://nextjs.frontendx.cn/</a></p>
<p> åˆ›å»ºæ–‡ä»¶<code>pages</code>å¹¶åœ¨ä¸‹é¢æ–°å»º<code>index.js</code></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const Index &#x3D; () &#x3D;&gt; (</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;p&gt;Sample app using React and Next.js&lt;&#x2F;p&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">export default Index;</span><br></pre></td></tr></table></figure>
<p> æ·»åŠ ç›¸å…³è¿è¡Œå‘½ä»¤æ‰“å¼€<code>package.json</code>æ–‡ä»¶æ·»åŠ </p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;,</span><br><span class="line">    &quot;dev&quot;: &quot;next&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;next build&quot;,</span><br><span class="line">    &quot;start&quot;: &quot;next start&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> è¿è¡Œå¼€å‘ç¯å¢ƒ</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run dev</span><br></pre></td></tr></table></figure>

<p> åˆ°è¿™é‡Œåº”è¯¥æ˜¯åˆ›å»ºä¸€ä¸ª<code>next.js</code>é¡¹ç›®ç„¶åæ¥ä¸‹æ¥å¯¹æ¥åˆ°<code>Shopify</code></p>
</li>
<li><p>ä½¿ç”¨<code>ngrok</code>æš´éœ²å‡ºå»è‡ªå·±çš„<code>3000</code>ç«¯å£å› ä¸º<code>next.js</code>å¯åŠ¨çš„é»˜è®¤æ˜¯<code>3000</code>ç«¯å£</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ngrok http 3000</span><br></pre></td></tr></table></figure>
<p> <img src="https://user-gold-cdn.xitu.io/2020/1/17/16fb29415dbff038?w=976&h=519&f=png&s=30962" alt=""><br> ç„¶ååœ¨è‡ªå·±åˆ›å»ºçš„åº”ç”¨ä¸­è®¾ç½®ä¸­æ·»åŠ <code>å¯¹åº”çš„url</code>ï¼ˆå¾—ç”¨<code>https</code>çš„ï¼‰å°±åœ¨ä¸Šé¢æ‰€è¯´çš„å¡«å†™<code>url</code></p>
</li>
<li><p>ä½¿ç”¨<code>node</code>çš„ <code>koa</code>æ¥è¿›è¡Œæ¸²æŸ“é¡µé¢æ“ä½œ</p>
<ol>
<li><p>åˆ›å»º<code>env</code>ç¯å¢ƒå˜é‡æ–‡ä»¶å¹¶å†™å…¥åœ¨ä¸Šé¢åˆ›å»ºçš„åº”ç”¨çš„<code>KEY</code></p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SHOPIFY_API_KEY&#x3D;&#39;YOUR API KEY FROM SHOPIFY PARTNERS DASHBOARD&#39;</span><br><span class="line">SHOPIFY_API_SECRET_KEY&#x3D;&#39;YOUR API SECRET KEY FROM SHOPIFY PARTNERS DASHBOARD&#39;</span><br></pre></td></tr></table></figure></li>
<li><p>å®‰è£…ç›¸å…³<code>Shopify</code>çš„éªŒè¯<code>koa</code>ä¸­é—´ä»¶</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save koa @shopify&#x2F;koa-shopify-auth dotenv koa-session isomorphic-fetch</span><br></pre></td></tr></table></figure></li>
<li><p>åˆ›å»º<code>server.js</code>å†™å…¥ç›¸å…³éªŒè¯ä»£ç </p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">require(&#39;isomorphic-fetch&#39;);</span><br><span class="line">const dotenv &#x3D; require(&#39;dotenv&#39;);</span><br><span class="line">const Koa &#x3D; require(&#39;koa&#39;);</span><br><span class="line">const next &#x3D; require(&#39;next&#39;);</span><br><span class="line">const &#123; default: createShopifyAuth &#125; &#x3D; require(&#39;@shopify&#x2F;koa-shopify-auth&#39;);</span><br><span class="line">const &#123; verifyRequest &#125; &#x3D; require(&#39;@shopify&#x2F;koa-shopify-auth&#39;);</span><br><span class="line">const session &#x3D; require(&#39;koa-session&#39;);</span><br><span class="line"></span><br><span class="line">dotenv.config();</span><br><span class="line">&#x2F;&#x2F; graphqlçš„ç›¸å…³ä¸­é—´ä»¶</span><br><span class="line">const &#123; default: graphQLProxy &#125; &#x3D; require(&#39;@shopify&#x2F;koa-shopify-graphql-proxy&#39;); </span><br><span class="line">const &#123; ApiVersion &#125; &#x3D; require(&#39;@shopify&#x2F;koa-shopify-graphql-proxy&#39;);</span><br><span class="line"></span><br><span class="line">const port &#x3D; parseInt(process.env.PORT, 10) || 3000;</span><br><span class="line">const dev &#x3D; process.env.NODE_ENV !&#x3D;&#x3D; &#39;production&#39;;</span><br><span class="line">const app &#x3D; next(&#123; dev &#125;);</span><br><span class="line">const handle &#x3D; app.getRequestHandler();</span><br><span class="line"></span><br><span class="line">const &#123; SHOPIFY_API_SECRET_KEY, SHOPIFY_API_KEY &#125; &#x3D; process.env; &#x2F;&#x2F; ç¯å¢ƒå˜é‡é‡Œè¯»å– api-keyä¸api-secret-key</span><br><span class="line">app.prepare().then(() &#x3D;&gt; &#123;</span><br><span class="line">  const server &#x3D; new Koa();</span><br><span class="line">  server.use(session(server));</span><br><span class="line">  server.keys &#x3D; [SHOPIFY_API_SECRET_KEY];</span><br><span class="line"></span><br><span class="line">  server.use(</span><br><span class="line">    createShopifyAuth(&#123;</span><br><span class="line">      apiKey: SHOPIFY_API_KEY,</span><br><span class="line">      secret: SHOPIFY_API_SECRET_KEY, </span><br><span class="line">      scopes: [&#39;read_products&#39;, &#39;write_products&#39;], &#x2F;&#x2F;å¡«å†™ç›¸å…³åº”ç”¨apiç›¸å…³è¯·æ±‚çš„æƒé™</span><br><span class="line">      afterAuth(ctx) &#123;</span><br><span class="line">        const &#123; shop, accessToken &#125; &#x3D; ctx.session; &#x2F;&#x2F; é€šè¿‡sessionæ‹¿å–ç›¸å…³å•†åº—åœ°å€ä»¥åŠè¯·æ±‚apiéœ€è¦çš„accessToken</span><br><span class="line">        ctx.cookies.set(&#39;shopOrigin&#39;, shop, &#123; httpOnly: false &#125;); </span><br><span class="line">        ctx.redirect(&#39;&#x2F;&#39;); &#x2F;&#x2F; é‡å®šå‘åˆ°indexé¦–é¡µ</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;),</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  server.use(verifyRequest());</span><br><span class="line">  server.use(async (ctx) &#x3D;&gt; &#123;</span><br><span class="line">    await handle(ctx.req, ctx.res);</span><br><span class="line">    ctx.respond &#x3D; false;</span><br><span class="line">    ctx.res.statusCode &#x3D; 200;</span><br><span class="line">    return</span><br><span class="line">  &#125;);</span><br><span class="line">  server.use(graphQLProxy(&#123;version: ApiVersion.October19&#125;)) &#x2F;&#x2F; è¿™é‡Œå¡«å†™ç›¸å…³apiçš„ç‰ˆæœ¬</span><br><span class="line"></span><br><span class="line">  server.listen(port, () &#x3D;&gt; &#123;</span><br><span class="line">    console.log(&#96;&gt; Ready on http:&#x2F;&#x2F;localhost:$&#123;port&#125;&#96;); &#x2F;&#x2F; ç›‘å¬ç«¯å£</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
<li><p>ä¿®æ”¹<code>package.json</code>æ–‡ä»¶ä½¿ç”¨æˆ‘ä»¬çš„<code>server.js</code>æ¥å¯åŠ¨é¡¹ç›®</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;,</span><br><span class="line">    &quot;dev&quot;: &quot;node server.js&quot;,</span><br><span class="line">    &quot;start&quot;: &quot;NODE_ENV&#x3D;production node server.js&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;next build&quot;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> ç°åœ¨æˆ‘ä»¬å¯åŠ¨é¡¹ç›®å¹¶ä¸”ç”¨<code>ngrok</code>æš´éœ²å‡ºå»çš„åŸŸåå°±èƒ½çœ‹åˆ°</p>
<p> <img src="https://user-gold-cdn.xitu.io/2020/1/17/16fb2a914762cace?w=434&h=214&f=png&s=6256" alt=""><br> è¿™é‡Œè¿˜è¦åœ¨åŸŸåçš„<code>shop</code>å¡«å†™æˆ‘ä»¬çš„å•†åº—åœ°å€ä¾‹å¦‚æˆ‘è‡ªå·±çš„ï¼š</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;e44132cd.ngrok.io&#x2F;auth&#x2F;inline?shop&#x3D;jetbn.myshopify.com</span><br></pre></td></tr></table></figure>
<p> ä¸€åˆ‡å¡«å†™å°±ç»ªä¹‹åä¸€<code>enter</code>é¡µé¢å°±è‡ªåŠ¨è·³è½¬äº†ã€‚</p>
<p> æœ€åå±•ç¤ºçš„é¡µé¢ï¼š<br> <img src="https://user-gold-cdn.xitu.io/2020/1/17/16fb2af2f6b051c0?w=1317&h=551&f=png&s=32089" alt=""></p>
</li>
</ol>
</li>
</ol>
<h2 id="æŠ˜è…¾å…¶ä»–æ¡†æ¶å°è¯•"><a href="#æŠ˜è…¾å…¶ä»–æ¡†æ¶å°è¯•" class="headerlink" title="æŠ˜è…¾å…¶ä»–æ¡†æ¶å°è¯•"></a>æŠ˜è…¾å…¶ä»–æ¡†æ¶å°è¯•</h2><p>&ensp;&ensp;&ensp;&ensp;å‰å‰ååéƒ½æ˜¯ä½¿ç”¨<code>React</code>çš„<code>next.js</code>å¼€å‘äº†ä¸¤ä¸‰ä¸ªåº”ç”¨ï¼Œæ„Ÿè§‰å°±æ˜¯å¼€å‘çš„æ—¶å€™å¤ªéº»çƒ¦äº†ï¼Œæ€»è¦å†…ç½‘ç©¿é€ï¼Œè€Œä¸”å±•ç¤ºçš„é¡µé¢éƒ½æ˜¯<code>Shopify</code>çš„çš„è‡ªå·±å¹³å°ä¸Šï¼Œè€Œä¸”å¼€å‘å†™å®Œä»£ç ç­‰å®ƒå“åº”è¿‡æ¥è¿˜å¾ˆæ…¢ã€‚å°±è¿™åŸå› æˆ‘åˆå¼€å§‹æŠ˜è…¾äº†å¯»æ±‚å…¶ä»–çš„æ–¹æ¡ˆçœ‹çœ‹æœ‰æ²¡æœ‰èƒ½åœ¨è‡ªå·±å¼€å‘å®Œäº†å†åˆ°å®ƒé‚£ä¸Šé¢ï¼Œè€Œä¸”è®©éªŒè¯<code>Shopify</code>çš„ä¸€ç³»åˆ—æ“ä½œè®©æˆ‘ä»¬çš„åç«¯å°å“¥æ¥æ“ä½œã€‚æœ€ç»ˆæˆ‘å‰ç«¯é€‰æ‹©<code>Vue</code>å¹¶ä¸”éªŒè¯éƒ½æ”¾åç«¯äº†ï¼Œè¿™æ ·æˆ‘å°±èƒ½åƒå¹³å¸¸å¼€å‘<code>Vue</code>é¡¹ä¸€æ ·äº†ã€‚</p>
<p>ä¸‹é¢ä»‹ç»ä¸‹æˆ‘çº¯å‰ç«¯è¿›è¡Œ<code>Shopify</code>çš„éªŒè¯æ“ä½œä½¿ç”¨<code>vue</code>ã€‚ï¼ˆå‰æè¦ç´ å†…ç½‘ç©¿é€ï¼Œä¸è¿‡å¼€å‘çš„æ—¶å€™ä¸éœ€è¦ï¼‰</p>
<ol>
<li><p>æ·»åŠ å®‰è£…åº”ç”¨è·¯ç”±</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   path: &#39;&#x2F;shopify&#x2F;install&#39;,</span><br><span class="line">   beforeEnter(to, _from, next) &#123;</span><br><span class="line">     if (to.query.shop) &#123;  &#x2F;&#x2F;è¦åœ¨åŸŸååæ·»åŠ å¼€å‘çš„å•†åº—åœ°å€</span><br><span class="line">         const shop &#x3D; to.query.shop,</span><br><span class="line">         scopes &#x3D; &#39;read_orders,read_products,write_products&#39;, &#x2F;&#x2F; apiæƒé™</span><br><span class="line">         &#x2F;&#x2F; é‡å®šå‘åœ°å€å°±æ˜¯åœ¨åˆ›å»ºåº”ç”¨çš„æ—¶å€™å¡«å†™çš„ç¬¬äºŒä¸ªï¼ˆé‡å®šå‘URLå¯ä»¥è‡ªå·±éšæ„å†™äº†ï¼‰ï¼Œæˆ‘è¿™é‡Œæ˜¯åŸŸååŠ &#x2F;shopify&#x2F;auth</span><br><span class="line">         redirect_uri &#x3D; &#39;https:&#x2F;&#x2F;&#39; + process.env.VUE_APP_ROOT_URL + &#39;&#x2F;shopify&#x2F;auth&#39;, </span><br><span class="line">         &#x2F;&#x2F; æ‹¼æ¥å®‰è£…åº”ç”¨åœ°å€éœ€è¦SHOPIFY_API_KEYæˆ‘å¡«å†™åœ¨æˆ‘çš„.envæ–‡ä»¶ä¸­äº†</span><br><span class="line">         install_url &#x3D;</span><br><span class="line">               &#39;http:&#x2F;&#x2F;&#39; + shop + &#39;&#x2F;admin&#x2F;oauth&#x2F;authorize?client_id&#x3D;&#39; +</span><br><span class="line">               process.env.VUE_APP_SHOPIFY_API_KEY +</span><br><span class="line">               &#39;&amp;scope&#x3D;&#39; + scopes + &#39;&amp;redirect_uri&#x3D;&#39; + redirect_uri</span><br><span class="line">       &#x2F;&#x2F; æœ¬åœ°è·³è½¬å®‰è£…åœ°å€</span><br><span class="line">       window.location &#x3D; install_url</span><br><span class="line">     &#125; else &#123;</span><br><span class="line">       next(&#123; path: &#39;&#x2F;error&#39; &#125;)</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>é‡å®šå‘éªŒè¯è·¯ç”±</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  path: &#39;&#x2F;shopify&#x2F;auth&#39;,</span><br><span class="line">  beforeEnter(to, _from, next) &#123;</span><br><span class="line">  &#x2F;&#x2F; é€šè¿‡å›è°ƒçš„urlè·å–ç›¸å…³çš„å‚æ•°</span><br><span class="line">    const shop &#x3D; to.query.shop,</span><br><span class="line">      hmac &#x3D; to.query.hmac,</span><br><span class="line">      code &#x3D; to.query.code</span><br><span class="line">  &#x2F;&#x2F; ä½¿ç”¨SHOPIFY_API_SECRET_KEYéªŒè¯ å¹¶ä¸”ä¹‹åæ‹¿å–access_tokenï¼ˆè¿™æ­¥æ²¡å†™ï¼‰</span><br><span class="line">    if (shop &amp;&amp; hmac &amp;&amp; code) &#123;</span><br><span class="line">      const map &#x3D; Object.assign(&#123;&#125;, to.query)</span><br><span class="line">      delete map[&#39;signature&#39;]</span><br><span class="line">      delete map[&#39;hmac&#39;]</span><br><span class="line">      const message &#x3D; querystring.stringify(map)</span><br><span class="line">      const encrypted &#x3D;</span><br><span class="line">        crypto.createHmac(&#39;sha256&#39;, process.env.VUE_APP_SHOPIFY_API_SECRET_KEY)</span><br><span class="line">              .update(message)</span><br><span class="line">              .digest(&#39;hex&#39;)</span><br><span class="line">      &#x2F;&#x2F; const providedHmac &#x3D;  Buffer.from(hmac, &#39;utf-8&#39;)</span><br><span class="line">      &#x2F;&#x2F; const generatedHash &#x3D; Buffer.from(encrypted, &#39;utf-8&#39;)</span><br><span class="line">    </span><br><span class="line">      let hashEquals &#x3D; false</span><br><span class="line">    </span><br><span class="line">      try &#123;</span><br><span class="line">        &#x2F;&#x2F; later: Auth fails with &#96;crypto.timingSafeEqual&#96;</span><br><span class="line">        &#x2F;&#x2F; hashEquals &#x3D; crypto.timingSafeEqual(generatedHash, providedHmac)</span><br><span class="line">        hashEquals &#x3D; hmac &#x3D;&#x3D;&#x3D; encrypted</span><br><span class="line">      &#125; catch (e) &#123;</span><br><span class="line">        hashEquals &#x3D; false</span><br><span class="line">      &#125;</span><br><span class="line">    </span><br><span class="line">      if (!hashEquals) &#123;</span><br><span class="line">        next(&#123; path: &#39;&#x2F;error&#39; &#125;)</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        next(&#39;&#x2F;&#39;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      next(&#123; path: &#39;&#x2F;error&#39; &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> <code>Vue</code>è¿™ç›¸å…³çš„éªŒè¯æ–¹æ¡ˆä¹Ÿæ˜¯ä»<code>Github</code>ä¸Šé¢æçš„ï¼Œç‰¹åœ°è®°å½•ä¸‹ã€‚å…·ä½“åœ°å€å¿˜äº†ï¼Œæœ‰éœ€è¦è‡ªå·±å¯ä»¥æœæœã€‚ğŸ¤£</p>
</li>
</ol>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>&ensp;&ensp;&ensp;&ensp;ç»è¿‡ä¸€æ®µæ—¶é—´çš„ç†Ÿæ‚‰ï¼Œè‡ªå·±ä¹Ÿç®—åˆæŒæ¡ä¸€é¡¹æ–°ä¸œè¥¿äº†ã€‚åˆšå¼€å§‹è¿™ä¸ª<code>Shopify</code>æ’ä»¶åº”ç”¨å¼€å‘çœŸçš„æ˜¯å·¨å‘å•Šï¼Œè™½ç„¶å®˜æ–¹æœ‰æ–‡æ¡£æµç¨‹ï¼Œä½†æ˜¯éƒ½æ˜¯è‹±æ–‡çš„è€Œä¸”åŸºç¡€çš„æ­å»ºéƒ½æ˜¯<code>api</code>éƒ½æ˜¯ç”¨<code>GraphQL</code>ç„¶åæˆ‘è‡ªå·±å°è¯•äº†éƒ½æ˜¯å„ç§è¶…æ—¶æ“ä½œï¼Œè¯·æ±‚ä¸åˆ°æœ€åå°±è‡ªå·±å¼ƒç”¨äº†ï¼Œç”¨<code>ResfulApi</code>ã€‚ç„¶åå°±æ˜¯é‡åˆ°é—®é¢˜å•Šå•¥çš„éƒ½è·Ÿæœ¬æœä¸åˆ°ï¼Œæˆ‘æƒ³ç€è¿™ä¹Ÿå¤ªéš¾äº†æˆ‘ï¼Œç„¶ååªèƒ½ç¡¬ç€å¤´çš®å»å®˜æ–¹æ–‡æ¡£é‡Œæ‰¾ï¼Œæœ€ååˆ°ç°åœ¨ä¹Ÿç®—æ˜¯èµ·èµ·ä¼ä¼ç»ˆäºéƒ½ç†Ÿæ‚‰äº†ï¼Œææ‡‚äº†ã€‚</p>
<p>&ensp;&ensp;&ensp;&ensp; è¿™ä¹‹åå‘ç°äº†è‹±æ–‡æ°´å¹³å¤ªé‡è¦äº†ã€‚è™½ç„¶å¼€å‘æ–‡æ¡£åŸºæœ¬å†…å®¹èƒ½çœ‹æ‡‚ï¼Œä½†æ˜¯éƒ½æ˜¯åŠçŒœåŠç–‘çš„ï¼Œç„¶åç¿»è¯‘ä¸€æ³¢ã€‚ï¼ˆå„ç§ä¸å‡†ç¡®ï¼‰ï¼Œç„¶åå¼€å§‹è¡¥è‹±æ–‡å§ã€‚ğŸ¤</p>
<p>&ensp;&ensp;&ensp;&ensp;  æœ€åæ”¾ä¸Šå‡ ä¸ª<code>Shopify</code>å¼€å‘å¸¸ç”¨çš„å®˜æ–¹æ–‡æ¡£åœ°å€ï¼š</p>
<p>&ensp;&ensp;&ensp;&ensp;Shopify Partners(åˆ›å»ºåº”ç”¨æŸ¥çœ‹åº”ç”¨):  <a href="https://vue-composition-api-rfc.netlify.com" target="_blank" rel="noopener">https://vue-composition-api-rfc.netlify.com</a></p>
<p>&ensp;&ensp;&ensp;&ensp;Shopify Developers(å®˜æ–¹å¼€å‘æ–‡æ¡£):   <a href="https://developers.shopify.com" target="_blank" rel="noopener">https://developers.shopify.com</a>ï¼ˆæ­å»ºå‚è€ƒæ–‡æ¡£ï¼‰</p>
<p>&ensp;&ensp;&ensp;&ensp;Shopify Polaris(å®˜æ–¹UIæ¡†æ¶):   <a href="https://polaris.shopify.com" target="_blank" rel="noopener">https://developers.shopify.com</a></p>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
      <a href="http://jetbn.github.io/2020/04/29/Shopify%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E5%85%A5%E5%9D%91%E4%BD%93%E9%AA%8C/" title="Shopifyæ’ä»¶å¼€å‘å…¥å‘ä½“éªŒ" target="_blank" rel="external">http://jetbn.github.io/2020/04/29/Shopify%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E5%85%A5%E5%9D%91%E4%BD%93%E9%AA%8C/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>ç‰ˆæƒå£°æ˜ï¼š </strong> æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CNåè®®</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://github.com/jetBn" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.jpg" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://github.com/jetBn" target="_blank"><span class="text-dark">é™ˆæ–‡ä¸œ</span><small class="ml-1x">Webå‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ</small></a></h3>
        <div>ä¸ªäººç®€ä»‹ã€‚</div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    
  <section id="comments">
  	
      <div id="vcomments"></div>
    
  </section>


  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2020/04/29/Vue3-0%E5%B0%9D%E8%AF%95/" title="Vue3.0å°è¯•"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;ä¸Šä¸€ç¯‡</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2020/04/29/mpvue%E5%85%A5%E5%9D%91%E8%AE%B0%E5%BD%95/" title="mpvueå…¥å‘è®°å½•"><span>ä¸‹ä¸€ç¯‡&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
  </ul>
  
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,qzone"></div>
    
  </div>
  </div>
</nav>
  


</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/jetBn" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://weibo.com/cofess" target="_blank" title="Weibo" data-toggle=tooltip data-placement=top><i class="icon icon-weibo"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        <div class="publishby">
        	Theme by <a href="https://github.com/cofess" target="_blank"> cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.
        </div>
    </div>
</footer>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'æ–‡ç« ',
            PAGES: 'é¡µé¢',
            CATEGORIES: 'åˆ†ç±»',
            TAGS: 'æ ‡ç­¾',
            UNTITLED: '(æœªå‘½å)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>






   




   
    
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/valine"></script>
  <script type="text/javascript">
  var GUEST = ['nick', 'mail', 'link'];
  var meta = 'nick,mail,link';
  meta = meta.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#vcomments',
    verify: false,
    notify: false,
    appId: '',
    appKey: '',
    placeholder: 'Just go go',
    avatar: 'mm',
    meta: meta,
    pageSize: '10' || 10,
    visitor: false
  });
  </script>

     







</body>
</html>